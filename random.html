<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–ª—É—á–∞–π–Ω—ã–π —Ç–æ–≤–∞—Ä | –ú–∞–≥–∞–∑–∏–Ω "–í—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ"</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
            min-height: 100vh;
            padding: 20px;
            text-align: center;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(156, 39, 176, 0.15);
            overflow: hidden;
            padding: 40px;
        }
        
        header {
            margin-bottom: 40px;
        }
        
        .back-button {
            display: inline-block;
            margin-bottom: 30px;
            padding: 10px 25px;
            background: #9c27b0;
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: bold;
        }
        
        h1 {
            color: #9c27b0;
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.2em;
            margin-bottom: 40px;
        }
        
        .random-product {
            background: linear-gradient(135deg, #e1bee7, #f3e5f5);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            border: 3px dashed #9c27b0;
            position: relative;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .product-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }
        
        .product-name {
            font-size: 2em;
            color: #7b1fa2;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .product-price {
            font-size: 2.5em;
            color: #9c27b0;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .product-description {
            color: #666;
            line-height: 1.6;
            margin: 20px 0;
            max-width: 600px;
        }
        
        .discount-badge {
            background: #ff5722;
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 1.2em;
            font-weight: bold;
            margin: 20px 0;
            display: inline-block;
        }
        
        .generate-button {
            padding: 18px 40px;
            background: linear-gradient(90deg, #9c27b0, #7b1fa2);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .generate-button:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(156, 39, 176, 0.3);
        }
        
        .buy-button {
            padding: 15px 35px;
            background: linear-gradient(90deg, #4caf50, #2e7d32);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .buy-button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }
        
        .feature {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 10px;
        }
        
        footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #666;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∏–∫–æ–Ω–∫–∏ –∫–æ—Ä–∑–∏–Ω—ã */
        #cart-icon {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #2196f3, #0d47a1);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(33, 150, 243, 0.4);
            z-index: 9999;
            transition: all 0.3s;
        }
        
        #cart-icon:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(33, 150, 243, 0.6);
        }
        
        #cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff5722;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            display: none;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .product-name {
                font-size: 1.5em;
            }
            
            .generate-button, .buy-button {
                width: 100%;
            }
            
            #cart-icon {
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            #cart-badge {
                width: 20px;
                height: 20px;
                font-size: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="index.html" class="back-button">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
            <h1>üé≤ –°–õ–£–ß–ê–ô–ù–´–ô –¢–û–í–ê–†</h1>
            <p class="subtitle">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–¥–∞—á—É! –ü–æ–ª—É—á–∏—Ç–µ —Å–ª—É—á–∞–π–Ω—ã–π —Ç–æ–≤–∞—Ä —Å–æ —Å–∫–∏–¥–∫–æ–π –¥–æ 30%</p>
        </header>
        
        <div class="random-product" id="randomProduct">
            <div class="product-icon">üéÅ</div>
            <div class="product-name" id="productName">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</div>
            <div class="product-price" id="productPrice">?</div>
            <div class="product-description" id="productDescription">
                –ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –æ–ø–∏—Å–∞–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –∏–∑ –Ω–∞—à–µ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞.
            </div>
            <div class="discount-badge" id="discountBadge" style="display: none;">–°–ö–ò–î–ö–ê 25%</div>
        </div>
        
        <button class="generate-button" onclick="generateRandomProduct()">
            üé≤ –°–ì–ï–ù–ï–†–ò–†–û–í–ê–¢–¨ –¢–û–í–ê–†
        </button>
        
        <button class="buy-button" id="buyButton" style="display: none;" onclick="addRandomToCart()">
            üõí –î–û–ë–ê–í–ò–¢–¨ –í –ö–û–†–ó–ò–ù–£
        </button>
        
        <div class="features">
            <div class="feature">
                <h3>üéØ –£–Ω–∏–∫–∞–ª—å–Ω—ã–π —à–∞–Ω—Å</h3>
                <p>–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–≤–∞—Ä —Å–æ —Å–∫–∏–¥–∫–æ–π –¥–æ 30% –æ—Ç –æ–±—ã—á–Ω–æ–π —Ü–µ–Ω—ã</p>
            </div>
            <div class="feature">
                <h3>üîÑ –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å</h3>
                <p>–ù–µ –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è —Ç–æ–≤–∞—Ä? –ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –¥—Ä—É–≥–æ–π!</p>
            </div>
            <div class="feature">
                <h3>üéÅ –°—é—Ä–ø—Ä–∏–∑</h3>
                <p>–ö–∞–∂–¥—ã–π —Ä–∞–∑ –Ω–æ–≤—ã–π —Å–ª—É—á–∞–π–Ω—ã–π —Ç–æ–≤–∞—Ä –∏–∑ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π</p>
            </div>
            <div class="feature">
                <h3>üí∞ –í—ã–≥–æ–¥–Ω–æ</h3>
                <p>–¶–µ–Ω–∞ –≤—Å–µ–≥–¥–∞ –Ω–∏–∂–µ —Ä—ã–Ω–æ—á–Ω–æ–π –Ω–∞ –≤—ã–ø–∞–≤—à–∏–π —Ç–æ–≤–∞—Ä</p>
            </div>
        </div>
        
        <div style="background: #e8f5e9; padding: 25px; border-radius: 15px; margin: 30px 0;">
            <h3 style="color: #2e7d32; margin-bottom: 15px;">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–∏–≥—Ä—ã—à–µ–π</h3>
            <p style="color: #666;">–ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∏–ª–∏:</p>
            <div style="display: flex; justify-content: space-around; margin-top: 20px; flex-wrap: wrap; gap: 15px;">
                <div>
                    <div style="font-size: 2em; color: #9c27b0; font-weight: bold;">47%</div>
                    <div style="color: #666;">—Å–∫–∏–¥–∫—É 20-30%</div>
                </div>
                <div>
                    <div style="font-size: 2em; color: #9c27b0; font-weight: bold;">32%</div>
                    <div style="color: #666;">—Å–∫–∏–¥–∫—É 15-20%</div>
                </div>
                <div>
                    <div style="font-size: 2em; color: #9c27b0; font-weight: bold;">21%</div>
                    <div style="color: #666;">—Å–∫–∏–¥–∫—É 10-15%</div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>¬© 2024 –ú–∞–≥–∞–∑–∏–Ω "–í—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ" | –°–ª—É—á–∞–π–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã —Å–æ —Å–∫–∏–¥–∫–æ–π</p>
            <p style="margin-top: 10px; font-size: 0.9em; color: #888;">
                –ö–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä –ø—Ä–æ–≤–µ—Ä–µ–Ω –∏ –∏–º–µ–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—é –∫–∞—á–µ—Å—Ç–≤–∞
            </p>
        </footer>
    </div>
    
    <!-- –°–∫—Ä–∏–ø—Ç –∫–æ—Ä–∑–∏–Ω—ã –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ -->
    <script>
        // –ë–∞–∑–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
        const randomProducts = [
            {
                id: 'random_001',
                name: 'üêâ –î—Ä–∞–∫–æ–Ω —Å–≤–µ—Ç—è—â–∏–π—Å—è –≤ —Ç–µ–º–Ω–æ—Ç–µ',
                price: '450',
                originalPrice: '550',
                discount: '18%',
                description: '30 —Å–º –ø–æ–¥–≤–∏–∂–Ω—ã–π –¥—Ä–∞–∫–æ–Ω, —Å–≤–µ—Ç–∏—Ç—Å—è –≤ —Ç–µ–º–Ω–æ—Ç–µ 7 —Ü–≤–µ—Ç–∞–º–∏. –†–∞–∑–≤–∏–≤–∞–µ—Ç –º–µ–ª–∫—É—é –º–æ—Ç–æ—Ä–∏–∫—É, —É—Å–ø–æ–∫–∞–∏–≤–∞—é—â–∏–π —ç—Ñ—Ñ–µ–∫—Ç.',
                icon: 'üêâ‚ú®'
            },
            {
                id: 'random_002',
                name: 'üëï –õ–æ–Ω–≥—Å–ª–∏–≤ Y2K —É–Ω–∏—Å–µ–∫—Å',
                price: '1200',
                originalPrice: '1500',
                discount: '20%',
                description: '–ß–µ—Ä–Ω–æ-–±–µ–ª—ã–π –ª–æ–Ω–≥—Å–ª–∏–≤ —Å–æ –∑–≤–µ–∑–¥–æ–π –≤ —Å—Ç–∏–ª–µ Y2K. –•–ª–æ–ø–æ–∫ 80%, –ø–æ–ª–∏—ç—Å—Ç–µ—Ä 20%, –¥–≤–æ–π–Ω—ã–µ —Ä—É–∫–∞–≤–∞.',
                icon: '‚≠êüëï'
            },
            {
                id: 'random_003',
                name: 'üî´ –ü–∏—Å—Ç–æ–ª–µ—Ç —Å –ø—É–ª—å–∫–∞–º–∏ –∏ –≥–∏–ª—å–∑–∞–º–∏',
                price: '1600',
                originalPrice: '2000',
                discount: '20%',
                description: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∏—Å—Ç–æ–ª–µ—Ç —Å –≤—ã–±—Ä–æ—Å–æ–º –≥–∏–ª—å–∑. 2 –º–∞–≥–∞–∑–∏–Ω–∞, –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—É–ª—å–∫–∏, —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∑–≤—É–∫–∏.',
                icon: 'üî´üéØ'
            },
            {
                id: 'random_004',
                name: '‚õìÔ∏è –¶–µ–ø–æ—á–∫–∞ —Å–µ—Ä–µ–±—Ä—è–Ω–∞—è 925 –ø—Ä–æ–±—ã',
                price: '4500',
                originalPrice: '5500',
                discount: '18%',
                description: '–≠–ª–µ–≥–∞–Ω—Ç–Ω–∞—è —Å–µ—Ä–µ–±—Ä—è–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ 925 –ø—Ä–æ–±—ã. –î–ª–∏–Ω–∞ 45-50 —Å–º, –ø–ª–µ—Ç–µ–Ω–∏–µ "–ë–∏—Å–º–∞—Ä–∫".',
                icon: '‚õìÔ∏è‚ú®'
            },
            {
                id: 'random_005',
                name: 'üè† –ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –ø–ª–µ–¥ —Å –æ–ª–µ–Ω—è–º–∏',
                price: '1200',
                originalPrice: '1500',
                discount: '20%',
                description: '–ú—è–≥–∫–∏–π —Ñ–ª–∏—Å–æ–≤—ã–π –ø–ª–µ–¥ —Å –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–º –ø—Ä–∏–Ω—Ç–æ–º –æ–ª–µ–Ω–µ–π. –†–∞–∑–º–µ—Ä 150√ó200 —Å–º.',
                icon: 'üß£üéÑ'
            },
            {
                id: 'random_006',
                name: 'üß¢ –ö–µ–ø–∫–∞ —Å –ª–∏—Å—Ç—å—è–º–∏',
                price: '1300',
                originalPrice: '1700',
                discount: '24%',
                description: '–°—Ç–∏–ª—å–Ω–∞—è –∫–µ–ø–∫–∞ —Å –ª–∏—Å—Ç–≤–µ–Ω–Ω—ã–º –ø—Ä–∏–Ω—Ç–æ–º. –†–µ–≥—É–ª–∏—Ä—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä, –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ö–ª–æ–ø–æ–∫.',
                icon: 'üß¢üçÉ'
            },
            {
                id: 'random_007',
                name: '‚òï –ù–∞–±–æ—Ä –Ω–æ–≤–æ–≥–æ–¥–Ω–∏—Ö –∫—Ä—É–∂–µ–∫',
                price: '850',
                originalPrice: '1100',
                discount: '23%',
                description: '–ö–æ–º–ø–ª–µ–∫—Ç –∏–∑ 4 –∫–µ—Ä–∞–º–∏—á–µ—Å–∫–∏—Ö –∫—Ä—É–∂–µ–∫ —Å –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–º–∏ —Ä–∏—Å—É–Ω–∫–∞–º–∏. –û–±—ä–µ–º 350 –º–ª.',
                icon: '‚òïüéÖ'
            },
            {
                id: 'random_008',
                name: 'üêâ –ë—Ä–µ–ª–æ–∫-–¥—Ä–∞–∫–æ–Ω —Å–≤–µ—Ç—è—â–∏–π—Å—è',
                price: '450',
                originalPrice: '600',
                discount: '25%',
                description: '–°–≤–µ—Ç—è—â–∏–π—Å—è –±—Ä–µ–ª–æ–∫ –≤ –≤–∏–¥–µ –¥—Ä–∞–∫–æ–Ω–∞. 3 —Ü–≤–µ—Ç–∞ —Å–≤–µ—á–µ–Ω–∏—è, –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π –∫–∞—Ä–∞–±–∏–Ω.',
                icon: 'üêâüîë'
            }
        ];

               // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –∫–æ—Ä–∑–∏–Ω—ã
        window.cart = {
            items: [],
            total: 0,
            selectedColor: '',
            selectedSize: '',
            
            addItem: function(product) {
                const existingItem = this.items.find(item => 
                    item.id === product.id && 
                    item.color === product.color && 
                    item.size === product.size
                );
                
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    this.items.push({
                        ...product,
                        quantity: 1
                    });
                }
                
                this.updateTotal();
                this.saveToStorage();
                this.updateBadge();
                this.showNotification(product.title);
            },
            
            removeItem: function(index) {
                this.items.splice(index, 1);
                this.updateTotal();
                this.saveToStorage();
                this.updateBadge();
            },
            
            updateQuantity: function(index, quantity) {
                if (quantity < 1) {
                    this.removeItem(index);
                    return;
                }
                this.items[index].quantity = quantity;
                this.updateTotal();
                this.saveToStorage();
            },
            
            updateTotal: function() {
                this.total = this.items.reduce((sum, item) => {
                    return sum + (parseInt(item.price) * item.quantity);
                }, 0);
            },
            
            saveToStorage: function() {
                localStorage.setItem('shoppingCart', JSON.stringify({
                    items: this.items,
                    total: this.total
                }));
            },
            
            loadFromStorage: function() {
                const saved = localStorage.getItem('shoppingCart');
                if (saved) {
                    const data = JSON.parse(saved);
                    this.items = data.items || [];
                    this.total = data.total || 0;
                    this.updateBadge();
                }
            },
            
            showNotification: function(productTitle) {
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: #4CAF50;
                    color: white;
                    padding: 15px 20px;
                    border-radius: 10px;
                    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                    z-index: 10000;
                    animation: slideIn 0.3s ease;
                    max-width: 300px;
                `;
                notification.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 24px;">‚úÖ</span>
                        <div>
                            <strong>–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É!</strong>
                            <div style="font-size: 0.9em; opacity: 0.9;">${productTitle}</div>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.animation = 'slideOut 0.3s ease';
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
                
                if (!document.querySelector('#cart-styles')) {
                    const style = document.createElement('style');
                    style.id = 'cart-styles';
                    style.textContent = `
                        @keyframes slideIn {
                            from { transform: translateX(100%); opacity: 0; }
                            to { transform: translateX(0); opacity: 1; }
                        }
                        @keyframes slideOut {
                            from { transform: translateX(0); opacity: 1; }
                            to { transform: translateX(100%); opacity: 0; }
                        }
                    `;
                    document.head.appendChild(style);
                }
            },
            
            updateBadge: function() {
                const badge = document.getElementById('cart-badge');
                if (badge) {
                    const totalItems = this.items.reduce((sum, item) => sum + item.quantity, 0);
                    badge.textContent = totalItems;
                    badge.style.display = totalItems > 0 ? 'flex' : 'none';
                }
            },
            
            clear: function() {
                this.items = [];
                this.total = 0;
                this.saveToStorage();
                this.updateBadge();
            },
            
            getOrderText: function() {
                let text = "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —Ö–æ—á—É –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ —Ç–æ–≤–∞—Ä—ã:\n\n";
                
                this.items.forEach((item, index) => {
                    text += `${index + 1}. ${item.title}\n`;
                    text += `   –¶–µ–Ω–∞: ${item.price} ‚ÇΩ\n`;
                    text += `   –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: ${item.quantity}\n`;
                    if (item.color) text += `   –¶–≤–µ—Ç: ${item.color}\n`;
                    if (item.size) text += `   –†–∞–∑–º–µ—Ä: ${item.size}\n`;
                    text += `   –°—É–º–º–∞: ${parseInt(item.price) * item.quantity} ‚ÇΩ\n\n`;
                });
                
                text += `\n–ò—Ç–æ–≥–æ: ${this.total} ‚ÇΩ\n`;
                
                if (this.total > 3000) {
                    const discount = Math.floor(this.total * 0.1);
                    text += `–°–∫–∏–¥–∫–∞ 10%: -${discount} ‚ÇΩ\n`;
                    text += `–ò—Ç–æ–≥–æ —Å–æ —Å–∫–∏–¥–∫–æ–π: ${this.total - discount} ‚ÇΩ\n`;
                }
                
                text += "\n---\n";
                text += "–û–∂–∏–¥–∞—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–æ—Å—Ç–∞–≤–∫–∏.\n";
                text += "–ì–æ—Ç–æ–≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∞–¥—Ä–µ—Å –∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏.";
                
                return text;
            }
        };

        // –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞
        function selectColor(element, color) {
            const container = element.closest('.color-selector');
            container.querySelectorAll('.color-option').forEach(c => {
                c.style.border = '2px solid #ddd';
                c.classList.remove('active');
            });
            element.style.border = '3px solid #e91e63';
            element.classList.add('active');
            window.cart.selectedColor = color;
        }

        // –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ —Ä–∞–∑–º–µ—Ä–∞
        function selectSize(element, size) {
            const container = element.closest('.size-selector');
            container.querySelectorAll('.size-btn').forEach(btn => {
                btn.classList.remove('active');
                btn.style.background = 'white';
                btn.style.color = '#333';
            });
            element.classList.add('active');
            element.style.background = '#e91e63';
            element.style.color = 'white';
            window.cart.selectedSize = size;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É
        function addToCart(id, title, price) {
            const color = window.cart.selectedColor || '';
            const size = window.cart.selectedSize || '';
            
            if (!color && (id === 'jacket_001' || id === 'longsleeve_001' || id === 'cap_001' || id === 'swimsuit_001')) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç!');
                return;
            }
            
            if (!size && (id === 'jacket_001' || id === 'longsleeve_001' || id === 'swimsuit_001')) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä!');
                return;
            }
            
            window.cart.addItem({
                id: id,
                title: `${title} (${color}${color && size ? ', ' : ''}${size})`,
                price: price,
                color: color,
                size: size
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            window.cart.loadFromStorage();
            createCartIcon();
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ "–ö—É–ø–∏—Ç—å"
            document.querySelectorAll('.buy-button').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                });
            });
        });

        // –°–æ–∑–¥–∞–Ω–∏–µ –∏–∫–æ–Ω–∫–∏ –∫–æ—Ä–∑–∏–Ω—ã
        function createCartIcon() {
            if (document.getElementById('cart-icon')) return;
            
            const cartIcon = document.createElement('div');
            cartIcon.id = 'cart-icon';
            cartIcon.innerHTML = 'üõí';
            
            const badge = document.createElement('div');
            badge.id = 'cart-badge';
            
            cartIcon.appendChild(badge);
            document.body.appendChild(cartIcon);
            
            window.cart.updateBadge();
            
            cartIcon.addEventListener('click', showCartModal);
        }

               // –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ—Ä–∑–∏–Ω—ã
        function updateCartContent() {
            const content = document.getElementById('cart-content');
            const footer = document.getElementById('cart-footer');
            
            if (!content || !footer) return;
            
            if (window.cart.items.length === 0) {
                content.innerHTML = `
                    <div style="text-align: center; padding: 50px;">
                        <div style="font-size: 60px; margin-bottom: 20px;">üòî</div>
                        <h3 style="color: #666; margin-bottom: 15px;">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</h3>
                        <p style="color: #999;">–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞</p>
                    </div>
                `;
                
                footer.innerHTML = `
                    <button onclick="hideCartModal()" style="padding: 12px 30px; background: #e91e63; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px;">
                        –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏
                    </button>
                `;
                return;
            }
            
            const discount = window.cart.total > 3000 ? Math.floor(window.cart.total * 0.1) : 0;
            const finalTotal = window.cart.total - discount;
            
            let itemsHTML = '';
            window.cart.items.forEach((item, index) => {
                const itemTotal = parseInt(item.price) * item.quantity;
                itemsHTML += `
                    <div style="background: white; border: 1px solid #eee; border-radius: 12px; padding: 20px; margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <h4 style="margin: 0; color: #333;">${item.title}</h4>
                            <button onclick="removeFromCart(${index})" style="background: none; border: none; color: #ff5722; cursor: pointer; font-size: 20px;">√ó</button>
                        </div>
                        <div style="color: #666; font-size: 0.9em; margin-bottom: 15px;">
                            ${item.color ? `<div>–¶–≤–µ—Ç: ${item.color}</div>` : ''}
                            ${item.size ? `<div>–†–∞–∑–º–µ—Ä: ${item.size}</div>` : ''}
                            <div>–¶–µ–Ω–∞: ${item.price} ‚ÇΩ</div>
                        </div>
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <button onclick="updateQuantity(${index}, ${item.quantity - 1})" style="width: 30px; height: 30px; border: 1px solid #ddd; background: white; border-radius: 5px; cursor: pointer;">-</button>
                                <span style="font-weight: bold;">${item.quantity} —à—Ç</span>
                                <button onclick="updateQuantity(${index}, ${item.quantity + 1})" style="width: 30px; height: 30px; border: 1px solid #ddd; background: white; border-radius: 5px; cursor: pointer;">+</button>
                            </div>
                            <div style="font-weight: bold; color: #e91e63; font-size: 1.2em;">
                                ${itemTotal} ‚ÇΩ
                            </div>
                        </div>
                    </div>
                `;
            });
            
            content.innerHTML = itemsHTML;
            
            footer.innerHTML = `
                <div style="margin-bottom: 25px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>–¢–æ–≤–∞—Ä—ã:</span>
                        <span>${window.cart.total} ‚ÇΩ</span>
                    </div>
                    ${discount > 0 ? `
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px; color: #4CAF50;">
                            <span>–°–∫–∏–¥–∫–∞ 10%:</span>
                            <span>-${discount} ‚ÇΩ</span>
                        </div>
                    ` : ''}
                    <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 1.2em; border-top: 2px solid #e91e63; padding-top: 10px; margin-top: 10px;">
                        <span>–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ:</span>
                        <span>${finalTotal} ‚ÇΩ</span>
                    </div>
                    ${window.cart.total >= 3000 ? `
                        <div style="background: #e8f5e9; padding: 10px; border-radius: 8px; margin-top: 15px; text-align: center; color: #2e7d32;">
                            ‚úÖ –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —Å–∫–∏–¥–∫—É 10%! –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –ø—Ä–∏ –∑–∞–∫–∞–∑–µ –æ—Ç 5000 ‚ÇΩ
                        </div>
                    ` : window.cart.total >= 2000 ? `
                        <div style="background: #fff3e0; padding: 10px; border-radius: 8px; margin-top: 15px; text-align: center; color: #ef6c00;">
                            üéØ –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä–æ–≤ –µ—â—ë –Ω–∞ ${3000 - window.cart.total} ‚ÇΩ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Å–∫–∏–¥–∫—É 10%!
                        </div>
                    ` : ''}
                </div>
                
                <div style="display: flex; gap: 15px; justify-content: center;">
                    <button onclick="clearCart()" style="padding: 12px 25px; background: #f5f5f5; color: #666; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; font-size: 16px; flex: 1;">
                        –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
                    </button>
                    <button onclick="proceedToCheckout()" style="padding: 12px 25px; background: linear-gradient(90deg, #4CAF50, #2e7d32); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; flex: 2;">
                        üí¨ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ –≤ Telegram
                    </button>
                </div>
                
                <div style="margin-top: 25px; padding-top: 20px; border-top: 1px solid #eee;">
                    <p style="color: #666; font-size: 0.9em; text-align: center;">
                        üìû –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –¥–ª—è –æ–ø–ª–∞—Ç—ã: <strong>8-800-123-45-67</strong><br>
                        üí∞ –î–æ—Å—Ç–∞–≤–∫–∞ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ, —Å—Ç–æ–∏–º–æ—Å—Ç—å —É—Ç–æ—á–Ω—è–π—Ç–µ
                    </p>
                </div>
            `;
        }
            
            // –ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–û –í–û–°–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú –ü–†–û–ö–†–£–¢–ö–£
            document.body.style.overflow = 'auto';
            document.documentElement.style.overflow = 'auto';
        }

              // –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ—Ä–∑–∏–Ω—ã
        function updateCartContent() {
            const content = document.getElementById('cart-content');
            const footer = document.getElementById('cart-footer');
            
            if (!content || !footer) return;
            
            if (window.cart.items.length === 0) {
                content.innerHTML = `
                    <div style="text-align: center; padding: 50px;">
                        <div style="font-size: 60px; margin-bottom: 20px;">üòî</div>
                        <h3 style="color: #666; margin-bottom: 15px;">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</h3>
                        <p style="color: #999;">–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞</p>
                    </div>
                `;
                
                footer.innerHTML = `
                    <button onclick="hideCartModal()" style="padding: 12px 30px; background: #e91e63; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px;">
                        –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏
                    </button>
                `;
                return;
            }
            
            const discount = window.cart.total > 3000 ? Math.floor(window.cart.total * 0.1) : 0;
            const finalTotal = window.cart.total - discount;
            
            let itemsHTML = '';
            window.cart.items.forEach((item, index) => {
                const itemTotal = parseInt(item.price) * item.quantity;
                itemsHTML += `
                    <div style="background: white; border: 1px solid #eee; border-radius: 12px; padding: 20px; margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <h4 style="margin: 0; color: #333;">${item.title}</h4>
                            <button onclick="removeFromCart(${index})" style="background: none; border: none; color: #ff5722; cursor: pointer; font-size: 20px;">√ó</button>
                        </div>
                        <div style="color: #666; font-size: 0.9em; margin-bottom: 15px;">
                            ${item.color ? `<div>–¶–≤–µ—Ç: ${item.color}</div>` : ''}
                            ${item.size ? `<div>–†–∞–∑–º–µ—Ä: ${item.size}</div>` : ''}
                            <div>–¶–µ–Ω–∞: ${item.price} ‚ÇΩ</div>
                        </div>
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <button onclick="updateQuantity(${index}, ${item.quantity - 1})" style="width: 30px; height: 30px; border: 1px solid #ddd; background: white; border-radius: 5px; cursor: pointer;">-</button>
                                <span style="font-weight: bold;">${item.quantity} —à—Ç</span>
                                <button onclick="updateQuantity(${index}, ${item.quantity + 1})" style="width: 30px; height: 30px; border: 1px solid #ddd; background: white; border-radius: 5px; cursor: pointer;">+</button>
                            </div>
                            <div style="font-weight: bold; color: #e91e63; font-size: 1.2em;">
                                ${itemTotal} ‚ÇΩ
                            </div>
                        </div>
                    </div>
                `;
            });
            
            content.innerHTML = itemsHTML;
            
            footer.innerHTML = `
                <div style="margin-bottom: 25px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>–¢–æ–≤–∞—Ä—ã:</span>
                        <span>${window.cart.total} ‚ÇΩ</span>
                    </div>
                    ${discount > 0 ? `
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px; color: #4CAF50;">
                            <span>–°–∫–∏–¥–∫–∞ 10%:</span>
                            <span>-${discount} ‚ÇΩ</span>
                        </div>
                    ` : ''}
                    <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 1.2em; border-top: 2px solid #e91e63; padding-top: 10px; margin-top: 10px;">
                        <span>–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ:</span>
                        <span>${finalTotal} ‚ÇΩ</span>
                    </div>
                    ${window.cart.total >= 3000 ? `
                        <div style="background: #e8f5e9; padding: 10px; border-radius: 8px; margin-top: 15px; text-align: center; color: #2e7d32;">
                            ‚úÖ –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —Å–∫–∏–¥–∫—É 10%! –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –ø—Ä–∏ –∑–∞–∫–∞–∑–µ –æ—Ç 5000 ‚ÇΩ
                        </div>
                    ` : window.cart.total >= 2000 ? `
                        <div style="background: #fff3e0; padding: 10px; border-radius: 8px; margin-top: 15px; text-align: center; color: #ef6c00;">
                            üéØ –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä–æ–≤ –µ—â—ë –Ω–∞ ${3000 - window.cart.total} ‚ÇΩ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Å–∫–∏–¥–∫—É 10%!
                        </div>
                    ` : ''}
                </div>
                
                <div style="display: flex; gap: 15px; justify-content: center;">
                    <button onclick="clearCart()" style="padding: 12px 25px; background: #f5f5f5; color: #666; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; font-size: 16px; flex: 1;">
                        –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
                    </button>
                    <button onclick="proceedToCheckout()" style="padding: 12px 25px; background: linear-gradient(90deg, #4CAF50, #2e7d32); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; flex: 2;">
                        üí¨ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ –≤ Telegram
                    </button>
                </div>
                
                <div style="margin-top: 25px; padding-top: 20px; border-top: 1px solid #eee;">
                    <p style="color: #666; font-size: 0.9em; text-align: center;">
                        üìû –ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –¥–ª—è –æ–ø–ª–∞—Ç—ã: <strong>8-963-090-58-96</strong><br>
                        üí∞ –î–æ—Å—Ç–∞–≤–∫–∞ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ, —Å—Ç–æ–∏–º–æ—Å—Ç—å —É—Ç–æ—á–Ω—è–π—Ç–µ
                    </p>
                </div>
            `;
        }
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ—Ä–∑–∏–Ω–æ–π
        window.removeFromCart = function(index) {
            window.cart.removeItem(index);
            updateCartContent();
        }

        window.updateQuantity = function(index, quantity) {
            window.cart.updateQuantity(index, quantity);
            updateCartContent();
        }

        window.clearCart = function() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É?')) {
                window.cart.clear();
                updateCartContent();
            }
        }

        // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é –∑–∞–∫–∞–∑–∞
        window.proceedToCheckout = function() {
            const orderText = window.cart.getOrderText();
            const telegramLink = 'https://t.me/NewshopNm';
            
            navigator.clipboard.writeText(orderText).then(() => {
                const content = document.getElementById('cart-content');
                
                content.innerHTML = `
                    <div style="text-align: center; padding: 20px;">
                        <div style="font-size: 60px; color: #4CAF50; margin-bottom: 20px;">‚úÖ</div>
                        <h3 style="color: #333; margin-bottom: 15px;">–¢–µ–∫—Å—Ç –∑–∞–∫–∞–∑–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!</h3>
                        <div style="background: #f5f5f5; padding: 20px; border-radius: 10px; margin: 20px 0; text-align: left;">
                            <h4 style="margin-top: 0; color: #666;">–î–∞–ª–µ–µ —Å–¥–µ–ª–∞–π—Ç–µ 3 —à–∞–≥–∞:</h4>
                            <ol style="color: #666; line-height: 1.6;">
                                <li><strong>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Telegram</strong> –ø–æ —Å—Å—ã–ª–∫–µ –Ω–∏–∂–µ</li>
                                <li><strong>–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</strong> –Ω–∞—à–µ–º—É –º–µ–Ω–µ–¥–∂–µ—Ä—É</li>
                                <li><strong>–£–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</strong> –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∑–∞–∫–∞–∑</li>
                            </ol>
                        </div>
                        <p style="color: #666; margin-bottom: 25px;">
                            –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–º —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã.
                        </p>
                        <div style="display: flex; gap: 15px; justify-content: center;">
                            <a href="${telegramLink}" target="_blank" style="padding: 15px 30px; background: #0088cc; color: white; text-decoration: none; border-radius: 10px; font-weight: bold; display: flex; align-items: center; gap: 10px;">
                                <span style="font-size: 20px;">üì±</span>
                                –ü–µ—Ä–µ–π—Ç–∏ –≤ Telegram
                            </a>
                            <button onclick="updateCartContent()" style="padding: 15px 25px; background: #f5f5f5; color: #666; border: 1px solid #ddd; border-radius: 10px; cursor: pointer;">
                                –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–æ—Ä–∑–∏–Ω–µ
                            </button>
                        </div>
                        <div style="margin-top: 30px; padding: 20px; background: #e3f2fd; border-radius: 10px;">
                            <h4 style="margin-top: 0; color: #1976d2;">üìû –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</h4>
                            <p style="color: #333; margin: 10px 0;">
                                <strong>–¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è –æ–ø–ª–∞—Ç—ã:</strong> 8-800-123-45-67<br>
                                <strong>Telegram:</strong> @NewshopNm<br>
                                <strong>–î–æ—Å—Ç–∞–≤–∫–∞:</strong> –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ
                            </p>
                        </div>
                    </div>
                `;
            }).catch(err => {
                alert('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç –≤—Ä—É—á–Ω—É—é:\n\n' + orderText);
            });
        }
</script>
