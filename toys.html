<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞–≥–∞–∑–∏–Ω –∏–≥—Ä—É—à–µ–∫ - –î–µ—Ç—Å–∫–∏–µ –∏–≥—Ä—É—à–∫–∏ –∏ –∏–≥—Ä—ã</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
        }

        header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 15px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            color: #ffd700;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .nav-menu {
            display: flex;
            gap: 25px;
            list-style: none;
        }

        .nav-menu a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            font-size: 18px;
            padding: 8px 15px;
            border-radius: 5px;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-menu a:hover {
            background-color: rgba(255,255,255,0.15);
            transform: translateY(-2px);
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: #ffd700;
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }

        .nav-menu a:hover::after {
            width: 80%;
        }

        .cart-icon {
            position: relative;
            font-size: 24px;
            cursor: pointer;
            padding: 10px;
            border-radius: 50%;
            background-color: rgba(255,255,255,0.1);
            transition: all 0.3s ease;
        }

        .cart-icon:hover {
            background-color: rgba(255,255,255,0.2);
            transform: scale(1.1) rotate(10deg);
        }

        #cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #ff4757;
            color: white;
            font-size: 12px;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            display: none;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 10px;
            transition: transform 0.3s ease;
        }

        .menu-toggle:hover {
            transform: rotate(90deg);
        }

        .hero {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(rgba(106, 17, 203, 0.9), rgba(37, 117, 252, 0.9));
            color: white;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            animation: slideUp 0.8s ease-out;
        }

        .hero h1 {
            font-size: 42px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: fadeIn 1s ease-out 0.3s both;
        }

        .hero p {
            font-size: 20px;
            max-width: 800px;
            margin: 0 auto 30px;
            opacity: 0.9;
            animation: fadeIn 1s ease-out 0.6s both;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
            animation: fadeIn 1s ease-out 0.9s both;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.4s ease;
            position: relative;
            animation: slideUp 0.5s ease-out;
        }

        .product-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #6a11cb, #2575fc);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .product-card:hover::before {
            transform: scaleX(1);
        }

        .product-gallery {
            height: 250px;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        .gallery-nav {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            transform: translateY(-50%);
            padding: 0 10px;
            z-index: 2;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .product-gallery:hover .gallery-nav {
            opacity: 1;
        }

        .gallery-btn {
            background: rgba(0,0,0,0.7);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .gallery-btn:hover {
            background: rgba(0,0,0,0.9);
            transform: scale(1.1);
        }

        .gallery-controls {
            position: absolute;
            bottom: 15px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 8px;
            z-index: 2;
        }

        .gallery-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .gallery-dot.active {
            background: white;
            transform: scale(1.2);
        }

        .gallery-dot:hover {
            background: white;
            transform: scale(1.3);
        }

        .photo-counter {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            z-index: 2;
            backdrop-filter: blur(5px);
        }

        .product-info {
            padding: 20px;
        }

        .product-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .product-description {
            color: #7f8c8d;
            font-size: 14px;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .product-price {
            font-size: 24px;
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .product-price::before {
            content: '‚ÇΩ';
            font-size: 18px;
        }

        .add-to-cart {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .add-to-cart::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .add-to-cart:hover::before {
            width: 300px;
            height: 300px;
        }

        .add-to-cart:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(37, 117, 252, 0.4);
        }

        .add-to-cart:active {
            transform: translateY(0);
        }

        .add-to-cart i {
            font-size: 18px;
            transition: transform 0.3s ease;
        }

        .add-to-cart:hover i {
            transform: scale(1.2) rotate(10deg);
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            animation: scaleIn 0.3s ease;
        }

        @keyframes scaleIn {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        #modalImage {
            max-width: 100%;
            max-height: 80vh;
            object-fit: contain;
            border-radius: 10px;
            background: white;
            padding: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .modal-info {
            position: absolute;
            bottom: -40px;
            left: 0;
            right: 0;
            text-align: center;
            color: white;
            font-size: 18px;
            padding: 10px;
            background: rgba(0,0,0,0.7);
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }

        .modal-close {
            position: absolute;
            top: -50px;
            right: 0;
            background: rgba(255,255,255,0.1);
            border: none;
            color: white;
            font-size: 30px;
            cursor: pointer;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .modal-close:hover {
            background: rgba(255,255,255,0.2);
            transform: rotate(90deg) scale(1.1);
        }

        .modal-nav {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
            transform: translateY(-50%);
            z-index: 1;
        }

        .modal-nav-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 24px;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-nav-btn:hover {
            background: rgba(255,255,255,0.4);
            transform: scale(1.1);
        }

        .loading-spinner {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: #2575fc;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 40px 20px;
            margin-top: 60px;
            border-radius: 15px 15px 0 0;
            animation: fadeIn 1s ease-out 1.2s both;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: #bdc3c7;
            text-decoration: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .footer-links a:hover {
            color: white;
            transform: translateY(-2px);
        }

        .copyright {
            margin-top: 20px;
            color: #95a5a6;
            font-size: 14px;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }

            .nav-menu {
                position: fixed;
                top: 70px;
                left: 0;
                right: 0;
                background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
                flex-direction: column;
                padding: 20px;
                transform: translateY(-100%);
                opacity: 0;
                transition: all 0.4s ease;
                z-index: 999;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                border-radius: 0 0 15px 15px;
            }

            .nav-menu.active {
                transform: translateY(0);
                opacity: 1;
            }

            .hero h1 {
                font-size: 32px;
            }

            .hero p {
                font-size: 18px;
            }

            .products-grid {
                grid-template-columns: 1fr;
            }

            .footer-links {
                flex-direction: column;
                gap: 15px;
            }

            .gallery-nav {
                opacity: 1;
            }
        }

        @media (max-width: 480px) {
            .hero {
                padding: 40px 15px;
            }

            .hero h1 {
                font-size: 28px;
            }

            .container {
                padding: 15px;
            }

            .product-card {
                margin: 0 10px;
            }
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è placeholder */
        .placeholder-container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            text-align: center;
        }

        .placeholder-icon {
            font-size: 60px;
            color: #6a11cb;
            margin-bottom: 15px;
            opacity: 0.7;
        }

        .placeholder-text {
            color: #666;
            font-size: 16px;
            margin-bottom: 5px;
        }

        .placeholder-subtext {
            color: #999;
            font-size: 12px;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 4px;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
    </style>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ -->
    <header>
        <div class="header-container">
            <div class="logo">
                <i class="fas fa-dragon"></i>
                <span>MagicToys</span>
            </div>
            
            <button class="menu-toggle" aria-label="–ú–µ–Ω—é" aria-expanded="false">
                <i class="fas fa-bars"></i>
            </button>
            
            <ul class="nav-menu" id="nav-menu">
                <li><a href="#home"><i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="#products"><i class="fas fa-gifts"></i> –¢–æ–≤–∞—Ä—ã</a></li>
                <li><a href="#about"><i class="fas fa-info-circle"></i> –û –Ω–∞—Å</a></li>
                <li><a href="#contact"><i class="fas fa-phone"></i> –ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
            </ul>
            
            <div class="cart-icon" id="cart-icon" aria-label="–ö–æ—Ä–∑–∏–Ω–∞">
                <i class="fas fa-shopping-cart"></i>
                <span id="cart-badge" aria-live="polite">0</span>
            </div>
        </div>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container">
        <!-- –ì–µ—Ä–æ–π-—Å–µ–∫—Ü–∏—è -->
        <section class="hero" id="home">
            <h1>–ú–∏—Ä –≤–æ–ª—à–µ–±–Ω—ã—Ö –∏–≥—Ä—É—à–µ–∫ –¥–ª—è –¥–µ—Ç–µ–π –∏ –≤–∑—Ä–æ—Å–ª—ã—Ö!</h1>
            <p>–û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–≥—Ä—É—à–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–∞—Ä—è—Ç —Ä–∞–¥–æ—Å—Ç—å –∏ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ —ç–º–æ—Ü–∏–∏. –û—Ç –∫–ª–∞—Å—Å–∏–∫–∏ –¥–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ö–∏—Ç–æ–≤ - –≤—Å—ë –¥–ª—è —Å—á–∞—Å—Ç–ª–∏–≤–æ–≥–æ –¥–µ—Ç—Å—Ç–≤–∞!</p>
            <div style="margin-top: 30px;">
                <button class="add-to-cart" onclick="document.querySelector('#products').scrollIntoView({behavior: 'smooth'})" style="width: auto; padding: 12px 30px;">
                    <i class="fas fa-arrow-down"></i> –°–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–≤–∞—Ä—ã
                </button>
            </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤ -->
        <section id="products">
            <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50; font-size: 32px;">
                <i class="fas fa-star" style="color: #ffd700;"></i> –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
            </h2>
            
            <div class="products-grid">
                <!-- –î—Ä–∞–∫–æ–Ω -->
                <div class="product-card" data-product="dragon">
                    <div class="product-gallery"></div>
                    <div class="product-info">
                        <h3 class="product-title">–î—Ä–∞–∫–æ–Ω —Å–≤–µ—Ç—è—â–∏–π—Å—è –≤ —Ç–µ–º–Ω–æ—Ç–µ</h3>
                        <p class="product-description">–í–µ–ª–∏–∫–æ–ª–µ–ø–Ω—ã–π —Å–≤–µ—Ç—è—â–∏–π—Å—è –¥—Ä–∞–∫–æ–Ω —Å –ø–æ–¥–≤–∏–∂–Ω—ã–º–∏ –∫—Ä—ã–ª—å—è–º–∏. –°–≤–µ—Ç–∏—Ç—Å—è –≤ —Ç–µ–º–Ω–æ—Ç–µ! –ë–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –¥–µ—Ç–µ–π –æ—Ç 5 –ª–µ—Ç.</p>
                        <div class="product-price">1 299</div>
                        <button class="add-to-cart" onclick="addToCart('dragon', '–î—Ä–∞–∫–æ–Ω —Å–≤–µ—Ç—è—â–∏–π—Å—è –≤ —Ç–µ–º–Ω–æ—Ç–µ', '1299')">
                            <i class="fas fa-cart-plus"></i> –í –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>

                <!-- –ö–∞–∫–∞—à–∏ -->
                <div class="product-card" data-product="kakashi">
                    <div class="product-gallery"></div>
                    <div class="product-info">
                        <h3 class="product-title">–§–∏–≥—É—Ä–∫–∞ –ö–∞–∫–∞—à–∏ –•–∞—Ç–∞–∫–µ</h3>
                        <p class="product-description">–î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω–∞—è —Ñ–∏–≥—É—Ä–∫–∞ –∏–∑ –∞–Ω–∏–º–µ –ù–∞—Ä—É—Ç–æ. –í—ã—Å–æ—Ç–∞: 18 —Å–º, –º–∞—Ç–µ—Ä–∏–∞–ª: –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ü–í–•.</p>
                        <div class="product-price">899</div>
                        <button class="add-to-cart" onclick="addToCart('kakashi', '–§–∏–≥—É—Ä–∫–∞ –ö–∞–∫–∞—à–∏', '899')">
                            <i class="fas fa-cart-plus"></i> –í –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>

                <!-- –ü–∏—Å—Ç–æ–ª–µ—Ç -->
                <div class="product-card" data-product="pistol">
                    <div class="product-gallery"></div>
                    <div class="product-info">
                        <h3 class="product-title">–ü–∏—Å—Ç–æ–ª–µ—Ç —Å –º—è–≥–∫–∏–º–∏ –ø—É–ª—å–∫–∞–º–∏</h3>
                        <p class="product-description">–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∏—Å—Ç–æ–ª–µ—Ç –¥–ª—è –¥–µ—Ç–µ–π. –í –∫–æ–º–ø–ª–µ–∫—Ç–µ: –ø–∏—Å—Ç–æ–ª–µ—Ç, 20 –º—è–≥–∫–∏—Ö –ø—É–ª–µ–∫, –º–∏—à–µ–Ω—å. –î–ª—è –¥–µ—Ç–µ–π –æ—Ç 6 –ª–µ—Ç.</p>
                        <div class="product-price">599</div>
                        <button class="add-to-cart" onclick="addToCart('pistol', '–ü–∏—Å—Ç–æ–ª–µ—Ç —Å –ø—É–ª—å–∫–∞–º–∏', '599')">
                            <i class="fas fa-cart-plus"></i> –í –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>

                <!-- –õ–∞–±—É–±—É -->
                <div class="product-card" data-product="labubu">
                    <div class="product-gallery"></div>
                    <div class="product-info">
                        <h3 class="product-title">–ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω–∞—è —Ñ–∏–≥—É—Ä–∫–∞ –õ–∞–±—É–±—É</h3>
                        <p class="product-description">–ú–∏–ª–∞—è —Ñ–∏–≥—É—Ä–∫–∞ –õ–∞–±—É–±—É —Ä–∞–∑–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤. –í—ã—Å–æ—Ç–∞: 10 —Å–º. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏–ª–∏ –ø–æ–¥–∞—Ä–∫–∞.</p>
                        <div class="product-price">1 499</div>
                        <button class="add-to-cart" onclick="addToCart('labubu', '–§–∏–≥—É—Ä–∫–∞ –õ–∞–±—É–±—É', '1499')">
                            <i class="fas fa-cart-plus"></i> –í –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>

                <!-- –î–æ–º–∏–∫ -->
                <div class="product-card" data-product="house">
                    <div class="product-gallery"></div>
                    <div class="product-info">
                        <h3 class="product-title">–í–æ–ª—à–µ–±–Ω—ã–π –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –¥–æ–º–∏–∫</h3>
                        <p class="product-description">–°–≤–µ—Ç—è—â–∏–π—Å—è –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –¥–æ–º–∏–∫ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –∏ –∑–∏–º–Ω–∏–º –¥–µ–∫–æ—Ä–æ–º. –°–æ–∑–¥–∞–µ—Ç –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ! –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç –±–∞—Ç–∞—Ä–µ–µ–∫.</p>
                        <div class="product-price">1 799</div>
                        <button class="add-to-cart" onclick="addToCart('house', '–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –¥–æ–º–∏–∫', '1799')">
                            <i class="fas fa-cart-plus"></i> –í –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>

                <!-- UNO -->
                <div class="product-card" data-product="uno">
                    <div class="product-gallery"></div>
                    <div class="product-info">
                        <h3 class="product-title">–ù–∞—Å—Ç–æ–ª—å–Ω–∞—è –∏–≥—Ä–∞ UNO</h3>
                        <p class="product-description">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—Ç–æ—á–Ω–∞—è –∏–≥—Ä–∞ –¥–ª—è –≤—Å–µ–π —Å–µ–º—å–∏. –û—Ç 2 –¥–æ 10 –∏–≥—Ä–æ–∫–æ–≤. –û—Ç–ª–∏—á–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫ –¥–ª—è –¥–µ—Ç–µ–π –∏ –≤–∑—Ä–æ—Å–ª—ã—Ö.</p>
                        <div class="product-price">399</div>
                        <button class="add-to-cart" onclick="addToCart('uno', '–ò–≥—Ä–∞ UNO', '399')">
                            <i class="fas fa-cart-plus"></i> –í –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- –û –Ω–∞—Å -->
        <section id="about" style="margin-top: 80px; padding: 40px; background: white; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.08);">
            <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50; font-size: 32px;">
                <i class="fas fa-heart" style="color: #e74c3c;"></i> –û –Ω–∞—à–µ–º –º–∞–≥–∞–∑–∏–Ω–µ
            </h2>
            <div style="max-width: 800px; margin: 0 auto; text-align: center;">
                <p style="font-size: 18px; line-height: 1.8; color: #555; margin-bottom: 20px;">
                    –ú—ã - –∫–æ–º–∞–Ω–¥–∞ —ç–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤–µ—Ä—è—Ç, —á—Ç–æ –∫–∞–∂–¥–∞—è –∏–≥—Ä—É—à–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–∏–Ω–æ—Å–∏—Ç—å —Ä–∞–¥–æ—Å—Ç—å –∏ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –≤–æ–æ–±—Ä–∞–∂–µ–Ω–∏–µ. 
                    –£–∂–µ –±–æ–ª–µ–µ 5 –ª–µ—Ç –º—ã –ø–æ–¥–±–∏—Ä–∞–µ–º —Å–∞–º—ã–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ, –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –∏–≥—Ä—É—à–∫–∏ –¥–ª—è –¥–µ—Ç–µ–π –≤—Å–µ—Ö –≤–æ–∑—Ä–∞—Å—Ç–æ–≤.
                </p>
                <div style="display: flex; justify-content: center; gap: 30px; margin-top: 40px; flex-wrap: wrap;">
                    <div style="text-align: center;">
                        <i class="fas fa-shield-alt" style="font-size: 40px; color: #4CAF50;"></i>
                        <h3 style="margin: 10px 0; color: #2c3e50;">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
                        <p style="color: #7f8c8d;">–í—Å–µ —Ç–æ–≤–∞–≥–∏ —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã</p>
                    </div>
                    <div style="text-align: center;">
                        <i class="fas fa-shipping-fast" style="font-size: 40px; color: #2196F3;"></i>
                        <h3 style="margin: 10px 0; color: #2c3e50;">–ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞</h3>
                        <p style="color: #7f8c8d;">–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏</p>
                    </div>
                    <div style="text-align: center;">
                        <i class="fas fa-headset" style="font-size: 40px; color: #FF9800;"></i>
                        <h3 style="margin: 10px 0; color: #2c3e50;">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</h3>
                        <p style="color: #7f8c8d;">–ü–æ–º–æ—â—å 24/7</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π -->
    <div id="photoModal" class="modal">
        <div class="loading-spinner" id="modalSpinner"></div>
        <div class="modal-content">
            <button class="modal-close" onclick="closePhotoModal()" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
            <div class="modal-nav">
                <button class="modal-nav-btn" onclick="changeModalPhoto(-1)" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Ñ–æ—Ç–æ">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="modal-nav-btn" onclick="changeModalPhoto(1)" aria-label="–°–ª–µ–¥—É—é—â–µ–µ —Ñ–æ—Ç–æ">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
            <img id="modalImage" src="" alt="–§–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞" onload="hideModalSpinner()">
            <div class="modal-info" id="modalInfo"></div>
        </div>
    </div>

    <!-- –ü–æ–¥–≤–∞–ª -->
    <footer id="contact">
        <div class="footer-content">
            <h3 style="font-size: 28px; margin-bottom: 20px;">MagicToys</h3>
            <p style="font-size: 16px; opacity: 0.9; max-width: 600px; margin: 0 auto 30px;">
                –°–¥–µ–ª–∞–µ–º –¥–µ—Ç—Å—Ç–≤–æ –≤–∞—à–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –≤–æ–ª—à–µ–±–Ω—ã–º! –ú—ã –≤—Å–µ–≥–¥–∞ –Ω–∞ —Å–≤—è–∑–∏ –∏ –≥–æ—Ç–æ–≤—ã –ø–æ–º–æ—á—å —Å –≤—ã–±–æ—Ä–æ–º –∏–¥–µ–∞–ª—å–Ω–æ–π –∏–≥—Ä—É—à–∫–∏.
            </p>
            <div class="footer-links">
                <a href="https://t.me/NewshopNm" target="_blank"><i class="fab fa-telegram"></i> Telegram</a>
                <a href="tel:+79991234567"><i class="fas fa-phone"></i> +7 (999) 123-45-67</a>
                <a href="mailto:info@magictoys.ru"><i class="fas fa-envelope"></i> info@magictoys.ru</a>
                <a href="#"><i class="fas fa-map-marker-alt"></i> –ú–æ—Å–∫–≤–∞, —É–ª. –ò–≥—Ä—É—à–µ—á–Ω–∞—è, 15</a>
            </div>
            <div class="copyright">
                ¬© 2024 MagicToys. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. –°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π –∏–≥—Ä—É—à–µ–∫
            </div>
        </div>
    </footer>

<script>
// –î–ê–ù–ù–´–ï –¢–û–í–ê–†–û–í –° –ü–†–ê–í–ò–õ–¨–ù–´–ú–ò –ü–£–¢–Ø–ú–ò
const productPhotos = {
    'dragon': {
        name: '–î—Ä–∞–∫–æ–Ω —Å–≤–µ—Ç—è—â–∏–π—Å—è –≤ —Ç–µ–º–Ω–æ—Ç–µ',
        photos: [
            {url: 'toys-images/dragons/white.png', alt: '–ë–µ–ª—ã–π —Å–≤–µ—Ç—è—â–∏–π—Å—è –¥—Ä–∞–∫–æ–Ω'},
            {url: 'https://via.placeholder.com/400x300/4CAF50/FFFFFF?text=–î—Ä–∞–∫–æ–Ω+–≤–∏–¥+2', alt: '–î—Ä–∞–∫–æ–Ω —Å–±–æ–∫—É'},
            {url: 'https://via.placeholder.com/400x300/4CAF50/FFFFFF?text=–î—Ä–∞–∫–æ–Ω+–≤–∏–¥+3', alt: '–î—Ä–∞–∫–æ–Ω —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π'}
        ]
    },
    'kakashi': {
        name: '–§–∏–≥—É—Ä–∫–∞ –ö–∞–∫–∞—à–∏ –•–∞—Ç–∞–∫–µ',
        photos: [
            {url: 'toys-images/kakahi/blu.png', alt: '–§–∏–≥—É—Ä–∫–∞ –ö–∞–∫–∞—à–∏'},
            {url: 'https://via.placeholder.com/400x300/2196F3/FFFFFF?text=–ö–∞–∫–∞—à–∏+–≤–∏–¥+2', alt: '–ö–∞–∫–∞—à–∏ –≤–∏–¥ —Å–±–æ–∫—É'}
        ]
    },
    'pistol': {
        name: '–ü–∏—Å—Ç–æ–ª–µ—Ç —Å –º—è–≥–∫–∏–º–∏ –ø—É–ª—å–∫–∞–º–∏',
        photos: [
            {url: 'toys-images/pistol/yellow.png', alt: '–ñ–µ–ª—Ç—ã–π –ø–∏—Å—Ç–æ–ª–µ—Ç —Å –ø—É–ª—å–∫–∞–º–∏'},
            {url: 'https://via.placeholder.com/400x300/FFC107/000000?text=–ü–∏—Å—Ç–æ–ª–µ—Ç+–≤–∏–¥+2', alt: '–ö–æ–º–ø–ª–µ–∫—Ç –ø—É–ª–µ–∫'}
        ]
    },
    'labubu': {
        name: '–ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω–∞—è —Ñ–∏–≥—É—Ä–∫–∞ –õ–∞–±—É–±—É',
        photos: [
            {url: 'toys-images/labubu/grey.jpg', alt: '–°–µ—Ä—ã–π –õ–∞–±—É–±—É'},
            {url: 'toys-images/labubu/purple.jpg', alt: '–§–∏–æ–ª–µ—Ç–æ–≤—ã–π –õ–∞–±—É–±—É'},
            {url: 'toys-images/labubu/red.jpg', alt: '–ö—Ä–∞—Å–Ω—ã–π –õ–∞–±—É–±—É'},
            {url: 'toys-images/labubu/white.jpg', alt: '–ë–µ–ª—ã–π –õ–∞–±—É–±—É'}
        ]
    },
    'house': {
        name: '–í–æ–ª—à–µ–±–Ω—ã–π –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –¥–æ–º–∏–∫',
        photos: [
            {url: 'https://via.placeholder.com/400x300/FF5722/FFFFFF?text=–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π+–¥–æ–º–∏–∫', alt: '–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –¥–æ–º–∏–∫ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π'}
        ]
    },
    'uno': {
        name: '–ù–∞—Å—Ç–æ–ª—å–Ω–∞—è –∏–≥—Ä–∞ UNO',
        photos: [
            {url: 'https://via.placeholder.com/400x300/3F51B5/FFFFFF?text=–ò–≥—Ä–∞+UNO+–∫–æ—Ä–æ–±–∫–∞', alt: '–ö–æ—Ä–æ–±–∫–∞ –∏–≥—Ä—ã UNO'}
        ]
    }
};

// –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï
let currentModalProduct = null;
let currentModalIndex = 0;

// –ö–û–†–ó–ò–ù–ê
let shoppingCart = {
    items: JSON.parse(localStorage.getItem('cart')) || [],
    
    addItem: function(item) {
        const existing = this.items.find(i => i.id === item.id && i.title === item.title);
        if (existing) {
            existing.quantity += 1;
        } else {
            this.items.push({...item, quantity: 1});
        }
        this.save();
        updateCart();
        showNotification(`‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ: ${item.title}`, 'success');
    },
    
    removeItem: function(index) {
        if (index >= 0 && index < this.items.length) {
            this.items.splice(index, 1);
            this.save();
            return true;
        }
        return false;
    },
    
    updateQuantity: function(index, newQuantity) {
        if (index >= 0 && index < this.items.length) {
            if (newQuantity < 1) {
                return this.removeItem(index);
            }
            this.items[index].quantity = newQuantity;
            this.save();
            return true;
        }
        return false;
    },
    
    clear: function() {
        this.items = [];
        this.save();
    },
    
    getTotal: function() {
        return this.items.reduce((sum, item) => sum + (parseInt(item.price) * item.quantity), 0);
    },
    
    getCount: function() {
        return this.items.reduce((sum, item) => sum + item.quantity, 0);
    },
    
    save: function() {
        localStorage.setItem('cart', JSON.stringify(this.items));
    }
};

// –§–£–ù–ö–¶–ò–ò –ì–ê–õ–ï–†–ï–ò
function initGallery(productId) {
    const product = productPhotos[productId];
    const galleryElement = document.querySelector(`.product-card[data-product="${productId}"] .product-gallery`);
    
    if (!galleryElement) return;
    
    galleryElement.innerHTML = '';
    
    // –ï—Å–ª–∏ –Ω–µ—Ç —Ñ–æ—Ç–æ - —Å–æ–∑–¥–∞–µ–º placeholder
    if (!product || !product.photos || product.photos.length === 0) {
        createPlaceholderGallery(productId);
        return;
    }

    const imagesContainer = document.createElement('div');
    imagesContainer.style.cssText = `
        width: 100%;
        height: 100%;
        position: relative;
    `;

    // –°–æ–∑–¥–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
    product.photos.forEach((photo, index) => {
        const img = document.createElement('img');
        img.id = `${productId}-image-${index}`;
        img.alt = photo.alt;
        img.loading = "lazy";
        img.style.cssText = `
            width: 100%;
            height: 100%;
            object-fit: contain;
            position: absolute;
            top: 0;
            left: 0;
            display: ${index === 0 ? 'block' : 'none'};
            background: white;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: opacity 0.3s ease;
        `;

        // –°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞–≤–∏–º placeholder
        img.src = getPlaceholderUrl(productId, index);
        
        // –ü—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        const realImg = new Image();
        realImg.onload = () => {
            img.src = photo.url;
            img.style.opacity = '1';
        };
        realImg.onerror = () => {
            console.log(`–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ: ${photo.url}`);
            // –û—Å—Ç–∞–≤–ª—è–µ–º placeholder
            img.style.opacity = '0.8';
        };
        realImg.src = photo.url;

        imagesContainer.appendChild(img);
    });

    galleryElement.appendChild(imagesContainer);

    // –ù–∞–≤–∏–≥–∞—Ü–∏—è
    if (product.photos.length > 1) {
        addGalleryNavigation(galleryElement, productId, product.photos.length);
    }

    addGalleryCounter(galleryElement, 1, product.photos.length);

    // –ö–ª–∏–∫ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    galleryElement.onclick = () => {
        if (product.photos.length > 0) {
            openPhotoModal(productId, 0);
        }
    };
}

function createPlaceholderGallery(productId) {
    const gallery = document.querySelector(`[data-product="${productId}"] .product-gallery`);
    if (!gallery) return;
    
    const product = productPhotos[productId];
    const color = getProductColor(productId);
    
    gallery.innerHTML = `
        <div class="placeholder-container">
            <i class="fas fa-image placeholder-icon"></i>
            <div class="placeholder-text">–§–æ—Ç–æ —Å–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è</div>
            <div class="placeholder-subtext">${product?.name || '–¢–æ–≤–∞—Ä'}</div>
        </div>
    `;
}

function getPlaceholderUrl(productId, index) {
    const colors = {
        'dragon': '#4CAF50',
        'kakashi': '#2196F3',
        'pistol': '#FFC107',
        'labubu': '#9C27B0',
        'house': '#FF5722',
        'uno': '#3F51B5'
    };
    
    const names = {
        'dragon': '–î—Ä–∞–∫–æ–Ω',
        'kakashi': '–ö–∞–∫–∞—à–∏',
        'pistol': '–ü–∏—Å—Ç–æ–ª–µ—Ç',
        'labubu': '–õ–∞–±—É–±—É',
        'house': '–î–æ–º–∏–∫',
        'uno': 'UNO'
    };
    
    const color = colors[productId] || '#2196F3';
    const name = names[productId] || '–¢–æ–≤–∞—Ä';
    const hexColor = color.startsWith('#') ? color.substring(1) : '2196F3';
    
    return `https://via.placeholder.com/400x300/${hexColor}/FFFFFF?text=${encodeURIComponent(name)}+${index + 1}`;
}

function getProductColor(productId) {
    const colors = {
        'dragon': '#4CAF50',
        'kakashi': '#2196F3',
        'pistol': '#FFC107',
        'labubu': '#9C27B0',
        'house': '#FF5722',
        'uno': '#3F51B5'
    };
    return colors[productId] || '#2196F3';
}

function addGalleryNavigation(galleryElement, productId, totalPhotos) {
    const navDiv = document.createElement('div');
    navDiv.className = 'gallery-nav';
    
    const prevBtn = createGalleryButton('prev-btn', '<i class="fas fa-chevron-left"></i>', () => changePhoto(productId, -1));
    const nextBtn = createGalleryButton('next-btn', '<i class="fas fa-chevron-right"></i>', () => changePhoto(productId, 1));
    
    navDiv.appendChild(prevBtn);
    navDiv.appendChild(nextBtn);
    galleryElement.appendChild(navDiv);

    const controlsDiv = document.createElement('div');
    controlsDiv.className = 'gallery-controls';
    
    for (let i = 0; i < totalPhotos; i++) {
        const dot = document.createElement('span');
        dot.className = `gallery-dot ${i === 0 ? 'active' : ''}`;
        dot.onclick = (e) => {
            e.stopPropagation();
            goToPhoto(productId, i);
        };
        controlsDiv.appendChild(dot);
    }
    
    galleryElement.appendChild(controlsDiv);
}

function createGalleryButton(className, html, onClick) {
    const button = document.createElement('button');
    button.className = `gallery-btn ${className}`;
    button.innerHTML = html;
    button.onclick = (e) => {
        e.stopPropagation();
        onClick();
    };
    return button;
}

function addGalleryCounter(galleryElement, current, total) {
    const counter = document.createElement('div');
    counter.className = 'photo-counter';
    counter.textContent = `${current}/${total}`;
    galleryElement.appendChild(counter);
}

function changePhoto(productId, direction) {
    const product = productPhotos[productId];
    if (!product || product.photos.length <= 1) return;
    
    const gallery = document.querySelector(`[data-product="${productId}"] .product-gallery`);
    if (!gallery) return;
    
    const currentImg = gallery.querySelector('img[style*="display: block"]');
    if (!currentImg) return;
    
    const match = currentImg.id.match(/\d+$/);
    if (!match) return;
    
    let currentIndex = parseInt(match[0]);
    const total = product.photos.length;
    let newIndex = (currentIndex + direction + total) % total;
    
    goToPhoto(productId, newIndex);
}

function goToPhoto(productId, index) {
    const product = productPhotos[productId];
    if (!product || index < 0 || index >= product.photos.length) return;
    
    const gallery = document.querySelector(`[data-product="${productId}"] .product-gallery`);
    if (!gallery) return;
    
    // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    gallery.querySelectorAll('img').forEach(img => {
        img.style.display = 'none';
    });
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω–æ–µ
    const targetImg = document.getElementById(`${productId}-image-${index}`);
    if (targetImg) {
        targetImg.style.display = 'block';
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ—á–∫–∏
    const dots = gallery.querySelectorAll('.gallery-dot');
    dots.forEach((dot, i) => {
        dot.classList.toggle('active', i === index);
    });
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫
    const counter = gallery.querySelector('.photo-counter');
    if (counter) {
        counter.textContent = `${index + 1}/${product.photos.length}`;
    }
}

// –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û
function openPhotoModal(productId, index) {
    const product = productPhotos[productId];
    if (!product || !product.photos || product.photos.length === 0) return;
    
    const photos = product.photos;
    if (index < 0 || index >= photos.length) index = 0;
    
    const modal = document.getElementById('photoModal');
    const modalImg = document.getElementById('modalImage');
    const modalInfo = document.getElementById('modalInfo');
    const spinner = document.getElementById('modalSpinner');
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–∏–Ω–Ω–µ—Ä
    if (spinner) spinner.style.display = 'block';
    modalImg.style.opacity = '0';
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    modalImg.onload = function() {
        if (spinner) spinner.style.display = 'none';
        modalImg.style.opacity = '1';
    };
    
    modalImg.onerror = function() {
        if (spinner) spinner.style.display = 'none';
        this.src = getPlaceholderUrl(productId, index);
        this.style.opacity = '1';
    };
    
    modalImg.src = photos[index].url;
    modalImg.alt = photos[index].alt;
    
    modalInfo.textContent = `${product.name} (${index + 1}/${photos.length})`;
    
    currentModalProduct = productId;
    currentModalIndex = index;
    
    modal.style.display = 'flex';
    document.body.style.overflow = 'hidden';
}

function closePhotoModal() {
    const modal = document.getElementById('photoModal');
    const spinner = document.getElementById('modalSpinner');
    
    if (modal) {
        modal.style.display = 'none';
        if (spinner) spinner.style.display = 'none';
    }
    
    document.body.style.overflow = 'auto';
}

function changeModalPhoto(direction) {
    if (!currentModalProduct) return;
    
    const photos = productPhotos[currentModalProduct].photos;
    if (!photos || photos.length === 0) return;
    
    currentModalIndex = (currentModalIndex + direction + photos.length) % photos.length;
    openPhotoModal(currentModalProduct, currentModalIndex);
}

function hideModalSpinner() {
    const spinner = document.getElementById('modalSpinner');
    if (spinner) spinner.style.display = 'none';
}

// –ö–û–†–ó–ò–ù–ê
function addToCart(productId, productName, productPrice) {
    const item = { 
        id: productId, 
        title: productName, 
        price: productPrice
    };
    shoppingCart.addItem(item);
}

function updateCart() {
    const badge = document.getElementById('cart-badge');
    if (badge) {
        const total = shoppingCart.getCount();
        badge.textContent = total;
        badge.style.display = total > 0 ? 'flex' : 'none';
    }
}

function showCart() {
    if (shoppingCart.items.length === 0) {
        showNotification('üõí –ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞', 'info');
        return;
    }
    
    const overlay = document.createElement('div');
    overlay.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        z-index: 10000;
        display: flex;
        justify-content: center;
        align-items: center;
        animation: fadeIn 0.3s ease;
        backdrop-filter: blur(5px);
    `;
    
    const modal = document.createElement('div');
    modal.style.cssText = `
        background: white;
        border-radius: 20px;
        padding: 30px;
        width: 90%;
        max-width: 500px;
        max-height: 80vh;
        overflow-y: auto;
        animation: slideUp 0.3s ease;
        position: relative;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    `;
    
    let itemsHTML = '';
    shoppingCart.items.forEach((item, index) => {
        const itemTotal = parseInt(item.price) * item.quantity;
        itemsHTML += `
            <div style="border-bottom: 1px solid #eee; padding: 20px 0; animation: slideUp 0.3s ease ${index * 0.1}s both;">
                <div style="display: flex; justify-content: space-between; align-items: start; gap: 15px;">
                    <div style="flex: 1;">
                        <strong style="font-size: 16px; color: #2c3e50;">${item.title}</strong>
                        <div style="color: #666; font-size: 14px; margin-top: 8px;">
                            ${item.price} ‚ÇΩ √ó ${item.quantity} = <strong>${itemTotal} ‚ÇΩ</strong>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <button onclick="updateQuantity(${index}, ${item.quantity - 1})" 
                                style="width: 32px; height: 32px; border: 1px solid #ddd; background: white; border-radius: 8px; cursor: pointer; font-size: 16px; transition: all 0.3s ease;">
                            -
                        </button>
                        <span style="font-weight: bold; min-width: 30px; text-align: center;">${item.quantity}</span>
                        <button onclick="updateQuantity(${index}, ${item.quantity + 1})" 
                                style="width: 32px; height: 32px; border: 1px solid #ddd; background: white; border-radius: 8px; cursor: pointer; font-size: 16px; transition: all 0.3s ease;">
                            +
                        </button>
                        <button onclick="removeFromCart(${index})" 
                                style="background: none; border: none; color: #ff4757; cursor: pointer; font-size: 24px; margin-left: 10px; transition: transform 0.3s ease;"
                                title="–£–¥–∞–ª–∏—Ç—å">
                            √ó
                        </button>
                    </div>
                </div>
            </div>
        `;
    });
    
    const total = shoppingCart.getTotal();
    
    modal.innerHTML = `
        <h2 style="margin-top: 0; color: #6a11cb; display: flex; align-items: center; gap: 10px; font-size: 24px;">
            <i class="fas fa-shopping-cart"></i> –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞
            <button onclick="this.closest('div').parentElement.remove();" 
                    style="position: absolute; top: 20px; right: 20px; background: none; border: none; color: #666; font-size: 28px; cursor: pointer; transition: all 0.3s ease;"
                    title="–ó–∞–∫—Ä—ã—Ç—å">
                √ó
            </button>
        </h2>
        <div style="max-height: 300px; overflow-y: auto; margin: 25px 0; padding-right: 10px;">
            ${itemsHTML || '<div style="text-align: center; padding: 40px; color: #999;">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</div>'}
        </div>
        <div style="border-top: 2px solid #6a11cb; margin-top: 20px; padding-top: 20px;">
            <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 20px;">
                <span>–ò—Ç–æ–≥–æ:</span>
                <span>${total} ‚ÇΩ</span>
            </div>
        </div>
        <div style="margin-top: 30px; display: flex; gap: 15px; flex-wrap: wrap;">
            <button onclick="checkout()" 
                    style="flex: 2; min-width: 200px; padding: 15px; background: linear-gradient(135deg, #6a11cb, #2575fc); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 16px; display: flex; align-items: center; justify-content: center; gap: 10px; transition: all 0.3s ease;">
                <i class="fab fa-telegram"></i> –û—Ñ–æ—Ä–º–∏—Ç—å –≤ Telegram
            </button>
            <button onclick="clearCart()" 
                    style="flex: 1; min-width: 100px; padding: 15px; background: #f5f5f5; color: #666; border: none; border-radius: 10px; cursor: pointer; font-size: 16px; transition: all 0.3s ease;">
                –û—á–∏—Å—Ç–∏—Ç—å
            </button>
        </div>
    `;
    
    overlay.appendChild(modal);
    document.body.appendChild(overlay);
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    overlay.addEventListener('click', (e) => {
        if (e.target === overlay) overlay.remove();
    });
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ ESC
    const closeOnEsc = (e) => {
        if (e.key === 'Escape') overlay.remove();
    };
    document.addEventListener('keydown', closeOnEsc);
    overlay.addEventListener('remove', () => {
        document.removeEventListener('keydown', closeOnEsc);
    });
}

function updateQuantity(index, newQuantity) {
    if (shoppingCart.updateQuantity(index, newQuantity)) {
        updateCart();
        showCart();
    }
}

function removeFromCart(index) {
    if (shoppingCart.removeItem(index)) {
        updateCart();
        showNotification('üóëÔ∏è –¢–æ–≤–∞—Ä —É–¥–∞–ª–µ–Ω –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã', 'info');
        showCart();
    }
}

function clearCart() {
    shoppingCart.clear();
    updateCart();
    document.querySelector('[style*="background: rgba(0,0,0,0.5)"]')?.remove();
    showNotification('üßπ –ö–æ—Ä–∑–∏–Ω–∞ –æ—á–∏—â–µ–Ω–∞', 'info');
}

function checkout() {
    if (shoppingCart.items.length === 0) return;
    
    let orderText = "üéÅ –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏:\n\n";
    
    shoppingCart.items.forEach((item, index) => {
        const itemTotal = parseInt(item.price) * item.quantity;
        orderText += `${index + 1}. ${item.title}\n`;
        orderText += `   üì¶ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: ${item.quantity} —à—Ç.\n`;
        orderText += `   üí∞ –¶–µ–Ω–∞: ${item.price} ‚ÇΩ √ó ${item.quantity} = ${itemTotal} ‚ÇΩ\n\n`;
    });
    
    const total = shoppingCart.getTotal();
    orderText += `üí∞ –ò—Ç–æ–≥–æ: ${total} ‚ÇΩ\n\n`;
    orderText += "---\n";
    orderText += "üìû –û–∂–∏–¥–∞—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–æ—Å—Ç–∞–≤–∫–µ –∏ –æ–ø–ª–∞—Ç–µ.";
    
    const telegramLink = "https://t.me/NewshopNm";
    const encodedText = encodeURIComponent(orderText);
    const fullLink = `${telegramLink}?text=${encodedText}`;
    
    window.open(fullLink, '_blank');
    clearCart();
}

// –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø
function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: ${type === 'success' ? '#4CAF50' : type === 'error' ? '#f44336' : '#2196f3'};
        color: white;
        padding: 15px 25px;
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        z-index: 10001;
        animation: slideInRight 0.3s ease;
        max-width: 350px;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 12px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255,255,255,0.1);
    `;
    
    notification.innerHTML = `
        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
        <span>${message}</span>
    `;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.style.animation = 'slideOutRight 0.3s ease';
        setTimeout(() => notification.remove(), 300);
    }, 3000);
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É
    notification.onclick = () => {
        notification.style.animation = 'slideOutRight 0.3s ease';
        setTimeout(() => notification.remove(), 300);
    };
}

// –ú–û–ë–ò–õ–¨–ù–û–ï –ú–ï–ù–Æ
class MobileMenu {
    constructor() {
        this.menuToggle = document.querySelector('.menu-toggle');
        this.navMenu = document.querySelector('.nav-menu');
        this.init();
    }
    
    init() {
        if (!this.menuToggle || !this.navMenu) return;
        
        this.setupEventListeners();
        this.setupAccessibility();
    }
    
    setupEventListeners() {
        this.menuToggle.addEventListener('click', () => this.toggleMenu());
        
        this.navMenu.addEventListener('click', (e) => {
            if (e.target.tagName === 'A') {
                this.closeMenu();
            }
        });
        
        document.addEventListener('click', this.handleOutsideClick.bind(this));
        document.addEventListener('keydown', this.handleEscapeKey.bind(this));
        
        window.addEventListener('resize', () => {
            if (window.innerWidth > 768 && this.navMenu.classList.contains('active')) {
                this.closeMenu();
            }
        });
    }
    
    setupAccessibility() {
        this.menuToggle.setAttribute('aria-label', '–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é');
        this.menuToggle.setAttribute('aria-expanded', 'false');
        this.menuToggle.setAttribute('aria-controls', 'nav-menu');
        this.navMenu.setAttribute('id', 'nav-menu');
    }
    
    toggleMenu() {
        if (this.navMenu.classList.contains('active')) {
            this.closeMenu();
        } else {
            this.openMenu();
        }
    }
    
    openMenu() {
        this.navMenu.classList.add('active');
        this.menuToggle.setAttribute('aria-expanded', 'true');
        this.menuToggle.querySelector('i').className = 'fas fa-times';
        document.body.style.overflow = 'hidden';
        
        const firstLink = this.navMenu.querySelector('a');
        if (firstLink) firstLink.focus();
    }
    
    closeMenu() {
        this.navMenu.classList.remove('active');
        this.menuToggle.setAttribute('aria-expanded', 'false');
        this.menuToggle.querySelector('i').className = 'fas fa-bars';
        document.body.style.overflow = '';
        this.menuToggle.focus();
    }
    
    handleOutsideClick(e) {
        if (this.navMenu.classList.contains('active') && 
            !this.navMenu.contains(e.target) && 
            !this.menuToggle.contains(e.target)) {
            this.closeMenu();
        }
    }
    
    handleEscapeKey(e) {
        if (e.key === 'Escape' && this.navMenu.classList.contains('active')) {
            this.closeMenu();
        }
    }
}

// –ì–õ–ê–í–ù–ê–Ø –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
document.addEventListener('DOMContentLoaded', function() {
    console.log('üöÄ –ú–∞–≥–∞–∑–∏–Ω –∏–≥—Ä—É—à–µ–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...');
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥–∞–ª–µ—Ä–µ–π
    Object.keys(productPhotos).forEach(productId => {
        initGallery(productId);
    });
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä–∑–∏–Ω—ã
    updateCart();
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω—é
    new MobileMenu();
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
    const cartIcon = document.getElementById('cart-icon');
    if (cartIcon) {
        cartIcon.addEventListener('click', showCart);
    }
    
    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closePhotoModal();
    });
    
    // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è —Å—Å—ã–ª–æ–∫
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                targetElement.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
    
    // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // –ù–∞–±–ª—é–¥–∞–µ–º –∑–∞ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Ç–æ–≤–∞—Ä–æ–≤
    document.querySelectorAll('.product-card').forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
    
    console.log('‚úÖ –ú–∞–≥–∞–∑–∏–Ω –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!');
});

// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
window.updateQuantity = updateQuantity;
window.removeFromCart = removeFromCart;
window.checkout = checkout;
window.clearCart = clearCart;
window.openPhotoModal = openPhotoModal;
window.closePhotoModal = closePhotoModal;
window.changeModalPhoto = changeModalPhoto;
window.addToCart = addToCart;
window.showCart = showCart;
</script>
    
    <script src="newyear.js"></script>


document.addEventListener('DOMContentLoaded', function() {
    const menuToggle = document.querySelector('.menu-toggle');
    const navMenu = document.querySelector('.nav-menu');
    
    if (menuToggle) {
        menuToggle.addEventListener('click', function() {
            navMenu.classList.toggle('active');
        });
    }
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Å—ã–ª–∫—É
    const navLinks = document.querySelectorAll('.nav-menu a');
    navLinks.forEach(link => {
        link.addEventListener('click', function() {
            navMenu.classList.remove('active');
        });
    });
});
</script>
</body>
</html>  
