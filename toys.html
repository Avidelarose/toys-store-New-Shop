<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞–≥–∞–∑–∏–Ω –∏–≥—Ä—É—à–µ–∫ - –î–µ—Ç—Å–∫–∏–µ –∏–≥—Ä—É—à–∫–∏ –∏ –∏–≥—Ä—ã</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        body.modal-open, body.cart-open {
            overflow: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
        }

        header {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            padding: 15px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            color: #ffd700;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .nav-menu {
            display: flex;
            gap: 25px;
            list-style: none;
        }

        .nav-menu a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            font-size: 18px;
            padding: 8px 15px;
            border-radius: 5px;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-menu a:hover {
            background-color: rgba(255,255,255,0.15);
            transform: translateY(-2px);
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: #ffd700;
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }

        .nav-menu a:hover::after {
            width: 80%;
        }

        .cart-icon {
            position: relative;
            font-size: 24px;
            cursor: pointer;
            padding: 10px;
            border-radius: 50%;
            background-color: rgba(255,255,255,0.1);
            transition: all 0.3s ease;
        }

        .cart-icon:hover {
            background-color: rgba(255,255,255,0.2);
            transform: scale(1.1) rotate(10deg);
        }

        #cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #ff4757;
            color: white;
            font-size: 12px;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            display: none;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 10px;
            transition: transform 0.3s ease;
        }

        .menu-toggle:hover {
            transform: rotate(90deg);
        }

        .hero {
            text-align: center;
            padding: 60px 20px;
            background: linear-gradient(rgba(106, 17, 203, 0.9), rgba(37, 117, 252, 0.9));
            color: white;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            animation: slideUp 0.8s ease-out;
        }

        .hero h1 {
            font-size: 42px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: fadeIn 1s ease-out 0.3s both;
        }

        .hero p {
            font-size: 20px;
            max-width: 800px;
            margin: 0 auto 30px;
            opacity: 0.9;
            animation: fadeIn 1s ease-out 0.6s both;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 30px;
            margin-top: 40px;
            animation: fadeIn 1s ease-out 0.9s both;
        }

        .product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.4s ease;
            position: relative;
            animation: slideUp 0.5s ease-out;
        }

        .product-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #6a11cb, #2575fc);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .product-card:hover::before {
            transform: scaleX(1);
        }

        .product-gallery {
            height: 300px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            cursor: pointer;
        }

        .product-gallery img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: transform 0.5s ease;
            padding: 15px;
        }

        .product-card:hover .product-gallery img {
            transform: scale(1.05);
        }

        .product-info {
            padding: 20px;
            position: relative; /* –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è */
            z-index: 1; /* –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –≤—ã–≤–æ–¥–∞ –Ω–∞ –ø–µ—Ä–µ–¥–Ω–∏–π –ø–ª–∞–Ω */
        }

        .product-title {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .product-description {
            color: #7f8c8d;
            font-size: 15px;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .product-price {
            font-size: 26px;
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .product-price::before {
            content: '‚ÇΩ';
            font-size: 20px;
        }

        .add-to-cart {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .add-to-cart::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .add-to-cart:hover::before {
            width: 300px;
            height: 300px;
        }

        .add-to-cart:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(37, 117, 252, 0.4);
        }

        .add-to-cart:active {
            transform: translateY(0);
        }

        .add-to-cart i {
            font-size: 18px;
            transition: transform 0.3s ease;
        }

        .add-to-cart:hover i {
            transform: scale(1.2) rotate(10deg);
        }

        /* –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –í –°–¢–ò–õ–ï –ê–í–ò–¢–û */
        .avito-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            animation: fadeIn 0.3s ease;
            overflow-y: auto;
        }

        .avito-modal.active {
            display: block;
        }

        .avito-modal__back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            z-index: 2001;
            display: flex;
            align-items: center;
            gap: 10px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .avito-modal__back-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-5px);
        }

        .avito-modal__content {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .avito-modal__gallery {
            flex: 1;
            position: relative;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 60vh;
            padding: 80px 20px 40px;
        }

        .avito-modal__image-container {
            width: 100%;
            max-width: 900px;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .avito-modal__image {
            max-width: 100%;
            max-height: 70vh;
            object-fit: contain;
            border-radius: 8px;
            transition: transform 0.3s ease;
            cursor: zoom-in;
        }

        .avito-modal__image.zoomed {
            transform: scale(1.5);
            cursor: zoom-out;
        }

        .avito-modal__nav-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .avito-modal__nav-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-50%) scale(1.1);
        }

        .avito-modal__nav-prev {
            left: 20px;
        }

        .avito-modal__nav-next {
            right: 20px;
        }

        .avito-modal__dots {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 10px;
            z-index: 10;
        }

        .avito-modal__dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .avito-modal__dot.active {
            background: white;
            transform: scale(1.3);
        }

        .avito-modal__info {
            background: white;
            border-radius: 25px 25px 0 0;
            padding: 30px 25px;
            margin-top: -25px;
            position: relative;
            z-index: 5;
            box-shadow: 0 -5px 30px rgba(0,0,0,0.1);
            animation: slideUpInfo 0.4s ease-out 0.2s both;
        }

        @keyframes slideUpInfo {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .avito-modal__title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
        }

        .avito-modal__price {
            font-size: 32px;
            font-weight: bold;
            color: #ff3b30;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .avito-modal__price::before {
            content: '‚ÇΩ';
            font-size: 28px;
        }

        .avito-modal__section-title {
            font-size: 18px;
            font-weight: 600;
            margin: 25px 0 15px 0;
            color: #333;
            padding-bottom: 8px;
            border-bottom: 2px solid #f0f0f0;
        }

        .avito-modal__description {
            font-size: 16px;
            line-height: 1.6;
            color: #555;
            margin-bottom: 10px;
        }

        .avito-modal__details {
            margin-top: 20px;
        }

        .avito-modal__detail-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #f5f5f5;
        }

        .avito-modal__detail-label {
            color: #777;
            font-size: 15px;
        }

        .avito-modal__detail-value {
            color: #333;
            font-weight: 500;
            font-size: 15px;
            text-align: right;
        }

        .avito-modal__cart-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-top: 30px;
            transition: all 0.3s ease;
        }

        .avito-modal__cart-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(37, 117, 252, 0.4);
        }

        /* –°–¢–ò–õ–ò –ö–û–†–ó–ò–ù–´ –° –î–†–£–ì–û–ô –°–¢–†–ê–ù–ò–¶–´ */
        #cart-icon-float {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #4CAF50, #2e7d32);
            color: white;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(76, 175, 80, 0.4);
            z-index: 9999;
            transition: all 0.3s;
        }
        
        #cart-icon-float:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.6);
        }
        
        #cart-badge-float {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff5722;
            color: white;
            width: 26px;
            height: 26px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
            display: none;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∫–æ—Ä–∑–∏–Ω—ã */
        #cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 10000;
            animation: fadeIn 0.3s ease;
        }
        
        #cart-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            width: 95%;
            max-width: 800px;
            max-height: 85vh;
            border-radius: 20px;
            overflow: hidden;
            z-index: 10001;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: column;
            animation: modalSlideIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes modalSlideIn {
            from { opacity: 0; transform: translate(-50%, -60%); }
            to { opacity: 1; transform: translate(-50%, -50%); }
        }
        
        @keyframes modalSlideOut {
            from { opacity: 1; transform: translate(-50%, -50%); }
            to { opacity: 0; transform: translate(-50%, -60%); }
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }

        footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 40px 20px;
            margin-top: 60px;
            border-radius: 15px 15px 0 0;
            animation: fadeIn 1s ease-out 1.2s both;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: #bdc3c7;
            text-decoration: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .footer-links a:hover {
            color: white;
            transform: translateY(-2px);
        }

        .copyright {
            margin-top: 20px;
            color: #95a5a6;
            font-size: 14px;
        }

        @keyframes slideUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .menu-toggle {
                display: block;
            }

            .nav-menu {
                position: fixed;
                top: 70px;
                left: 0;
                right: 0;
                background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
                flex-direction: column;
                padding: 20px;
                transform: translateY(-100%);
                opacity: 0;
                transition: all 0.4s ease;
                z-index: 999;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                border-radius: 0 0 15px 15px;
            }

            .nav-menu.active {
                transform: translateY(0);
                opacity: 1;
            }

            .hero h1 {
                font-size: 32px;
            }

            .hero p {
                font-size: 18px;
            }

            .products-grid {
                grid-template-columns: 1fr;
            }

            .avito-modal__nav-btn {
                width: 40px;
                height: 40px;
                font-size: 20px;
            }

            .avito-modal__nav-prev {
                left: 10px;
            }

            .avito-modal__nav-next {
                right: 10px;
            }

            .avito-modal__gallery {
                padding: 70px 15px 30px;
                min-height: 50vh;
            }

            .avito-modal__info {
                padding: 25px 20px;
            }

            .avito-modal__title {
                font-size: 22px;
            }

            .avito-modal__price {
                font-size: 28px;
            }

            .avito-modal__cart-btn {
                padding: 16px;
                font-size: 16px;
            }

            #cart-icon-float {
                bottom: 20px;
                right: 20px;
                width: 60px;
                height: 60px;
                font-size: 24px;
            }
            
            #cart-badge-float {
                width: 22px;
                height: 22px;
                font-size: 12px;
            }

            .footer-links {
                flex-direction: column;
                gap: 15px;
            }
        }

        @media (max-width: 480px) {
            .hero {
                padding: 40px 15px;
            }

            .hero h1 {
                font-size: 28px;
            }

            .container {
                padding: 15px;
            }

            .product-card {
                margin: 0 10px;
            }

            .avito-modal__back-btn {
                top: 15px;
                left: 15px;
                padding: 10px 15px;
                font-size: 14px;
            }

            .avito-modal__gallery {
                padding: 60px 10px 25px;
                min-height: 40vh;
            }

            .avito-modal__info {
                padding: 20px 15px;
            }
        }
    </style>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ -->
    <header>
        <div class="header-container">
            <div class="logo">
                <i class="fas fa-dragon"></i>
                <span>MagicToys</span>
            </div>
            
            <button class="menu-toggle" aria-label="–ú–µ–Ω—é" aria-expanded="false">
                <i class="fas fa-bars"></i>
            </button>
            
            <ul class="nav-menu" id="nav-menu">
                <li><a href="#home"><i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="#products"><i class="fas fa-gifts"></i> –¢–æ–≤–∞—Ä—ã</a></li>
                <li><a href="#contact"><i class="fas fa-phone"></i> –ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
            </ul>
            
            <div class="cart-icon" id="cart-icon" aria-label="–ö–æ—Ä–∑–∏–Ω–∞" onclick="showCartModal()">
                <i class="fas fa-shopping-cart"></i>
                <span id="cart-badge" aria-live="polite">0</span>
            </div>
        </div>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container">
        <!-- –ì–µ—Ä–æ–π-—Å–µ–∫—Ü–∏—è -->
        <section class="hero" id="home">
            <h1>–ú–∏—Ä –≤–æ–ª—à–µ–±–Ω—ã—Ö –∏–≥—Ä—É—à–µ–∫ –¥–ª—è –¥–µ—Ç–µ–π –∏ –≤–∑—Ä–æ—Å–ª—ã—Ö!</h1>
            <p>–û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–≥—Ä—É—à–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–∞—Ä—è—Ç —Ä–∞–¥–æ—Å—Ç—å –∏ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ —ç–º–æ—Ü–∏–∏. –û—Ç –∫–ª–∞—Å—Å–∏–∫–∏ –¥–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ö–∏—Ç–æ–≤ - –≤—Å—ë –¥–ª—è —Å—á–∞—Å—Ç–ª–∏–≤–æ–≥–æ –¥–µ—Ç—Å—Ç–≤–∞!</p>
            <div style="margin-top: 30px;">
                <button class="add-to-cart" onclick="document.querySelector('#products').scrollIntoView({behavior: 'smooth'})" style="width: auto; padding: 12px 30px;">
                    <i class="fas fa-arrow-down"></i> –°–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–≤–∞—Ä—ã
                </button>
            </div>
        </section>

        <!-- –°–µ–∫—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤ -->
        <section id="products">
            <h2 style="text-align: center; margin-bottom: 30px; color: #2c3e50; font-size: 32px;">
                <i class="fas fa-star" style="color: #ffd700;"></i> –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
            </h2>
            
            <div class="products-grid">
                <!-- –î—Ä–∞–∫–æ–Ω -->
                <div class="product-card" data-product="dragon">
                    <div class="product-gallery" onclick="openAvitoModal('dragon')">
                        <img id="dragon-img" src="" alt="–î—Ä–∞–∫–æ–Ω —Å–≤–µ—Ç—è—â–∏–π—Å—è –≤ —Ç–µ–º–Ω–æ—Ç–µ">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">–î—Ä–∞–∫–æ–Ω —Å–≤–µ—Ç—è—â–∏–π—Å—è –≤ —Ç–µ–º–Ω–æ—Ç–µ</h3>
                        <p class="product-description">–í–µ–ª–∏–∫–æ–ª–µ–ø–Ω—ã–π —Å–≤–µ—Ç—è—â–∏–π—Å—è –¥—Ä–∞–∫–æ–Ω —Å –ø–æ–¥–≤–∏–∂–Ω—ã–º–∏ –∫—Ä—ã–ª—å—è–º–∏. –°–≤–µ—Ç–∏—Ç—Å—è –≤ —Ç–µ–º–Ω–æ—Ç–µ! –ë–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –¥–µ—Ç–µ–π –æ—Ç 5 –ª–µ—Ç.</p>
                        <div class="product-price">350</div>
                        <button class="add-to-cart" onclick="addToCart('dragon', '–î—Ä–∞–∫–æ–Ω —Å–≤–µ—Ç—è—â–∏–π—Å—è –≤ —Ç–µ–º–Ω–æ—Ç–µ', '350')">
                            <i class="fas fa-cart-plus"></i> –í –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>

                <!-- –ö–∞–∫–∞—à–∏ -->
                <div class="product-card" data-product="kakashi">
                    <div class="product-gallery" onclick="openAvitoModal('kakashi')">
                        <img id="kakashi-img" src="" alt="–§–∏–≥—É—Ä–∫–∞ –ö–∞–∫–∞—à–∏">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">–§–∏–≥—É—Ä–∫–∞ –ö–∞–∫–∞—à–∏ –•–∞—Ç–∞–∫–µ</h3>
                        <p class="product-description">–î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω–∞—è —Ñ–∏–≥—É—Ä–∫–∞ –∏–∑ –∞–Ω–∏–º–µ –ù–∞—Ä—É—Ç–æ. –í—ã—Å–æ—Ç–∞: 18 —Å–º, –º–∞—Ç–µ—Ä–∏–∞–ª: –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ü–í–•.</p>
                        <div class="product-price">899</div>
                        <button class="add-to-cart" onclick="addToCart('kakashi', '–§–∏–≥—É—Ä–∫–∞ –ö–∞–∫–∞—à–∏', '899')">
                            <i class="fas fa-cart-plus"></i> –í –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>

                <!-- –ü–∏—Å—Ç–æ–ª–µ—Ç -->
                <div class="product-card" data-product="pistol">
                    <div class="product-gallery" onclick="openAvitoModal('pistol')">
                        <img id="pistol-img" src="" alt="–ü–∏—Å—Ç–æ–ª–µ—Ç —Å –ø—É–ª—å–∫–∞–º–∏">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">–ü–∏—Å—Ç–æ–ª–µ—Ç —Å –º—è–≥–∫–∏–º–∏ –ø—É–ª—å–∫–∞–º–∏</h3>
                        <p class="product-description">–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∏—Å—Ç–æ–ª–µ—Ç –¥–ª—è –¥–µ—Ç–µ–π. –í –∫–æ–º–ø–ª–µ–∫—Ç–µ: –ø–∏—Å—Ç–æ–ª–µ—Ç, 20 –º—è–≥–∫–∏—Ö –ø—É–ª–µ–∫, –º–∏—à–µ–Ω—å. –î–ª—è –¥–µ—Ç–µ–π –æ—Ç 6 –ª–µ—Ç.</p>
                        <div class="product-price">599</div>
                        <button class="add-to-cart" onclick="addToCart('pistol', '–ü–∏—Å—Ç–æ–ª–µ—Ç —Å –ø—É–ª—å–∫–∞–º–∏', '599')">
                            <i class="fas fa-cart-plus"></i> –í –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>

                <!-- –õ–∞–±—É–±—É -->
                <div class="product-card" data-product="labubu">
                    <div class="product-gallery" onclick="openAvitoModal('labubu')">
                        <img id="labubu-img" src="" alt="–§–∏–≥—É—Ä–∫–∞ –õ–∞–±—É–±—É">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">–ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω–∞—è —Ñ–∏–≥—É—Ä–∫–∞ –õ–∞–±—É–±—É</h3>
                        <p class="product-description">–ú–∏–ª–∞—è —Ñ–∏–≥—É—Ä–∫–∞ –õ–∞–±—É–±—É —Ä–∞–∑–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤. –í—ã—Å–æ—Ç–∞: 10 —Å–º. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏–ª–∏ –ø–æ–¥–∞—Ä–∫–∞.</p>
                        <div class="product-price">1 499</div>
                        <button class="add-to-cart" onclick="addToCart('labubu', '–§–∏–≥—É—Ä–∫–∞ –õ–∞–±—É–±—É', '1499')">
                            <i class="fas fa-cart-plus"></i> –í –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>

                <!-- –î–æ–º–∏–∫ -->
                <div class="product-card" data-product="house">
                    <div class="product-gallery" onclick="openAvitoModal('house')">
                        <img id="house-img" src="" alt="–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –¥–æ–º–∏–∫">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">–í–æ–ª—à–µ–±–Ω—ã–π –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –¥–æ–º–∏–∫</h3>
                        <p class="product-description">–°–≤–µ—Ç—è—â–∏–π—Å—è –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –¥–æ–º–∏–∫ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –∏ –∑–∏–º–Ω–∏–º –¥–µ–∫–æ—Ä–æ–º. –°–æ–∑–¥–∞–µ—Ç –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ! –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç –±–∞—Ç–∞—Ä–µ–µ–∫.</p>
                        <div class="product-price">1 799</div>
                        <button class="add-to-cart" onclick="addToCart('house', '–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –¥–æ–º–∏–∫', '1799')">
                            <i class="fas fa-cart-plus"></i> –í –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>

                <!-- UNO -->
                <div class="product-card" data-product="uno">
                    <div class="product-gallery" onclick="openAvitoModal('uno')">
                        <img id="uno-img" src="" alt="–ò–≥—Ä–∞ UNO">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">–ù–∞—Å—Ç–æ–ª—å–Ω–∞—è –∏–≥—Ä–∞ UNO</h3>
                        <p class="product-description">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—Ç–æ—á–Ω–∞—è –∏–≥—Ä–∞ –¥–ª—è –≤—Å–µ–π —Å–µ–º—å–∏. –û—Ç 2 –¥–æ 10 –∏–≥—Ä–æ–∫–æ–≤. –û—Ç–ª–∏—á–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫ –¥–ª—è –¥–µ—Ç–µ–π –∏ –≤–∑—Ä–æ—Å–ª—ã—Ö.</p>
                        <div class="product-price">399</div>
                        <button class="add-to-cart" onclick="addToCart('uno', '–ò–≥—Ä–∞ UNO', '399')">
                            <i class="fas fa-cart-plus"></i> –í –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤ —Å—Ç–∏–ª–µ –ê–≤–∏—Ç–æ -->
    <div id="avitoModal" class="avito-modal" onclick="closeAvitoModal(event)">
        <button class="avito-modal__back-btn" onclick="closeAvitoModal()">
            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–∞–ª–æ–≥—É
        </button>
        
        <div class="avito-modal__content" onclick="event.stopPropagation()">
            <div class="avito-modal__gallery">
                <div class="avito-modal__image-container">
                    <img id="avitoModalImage" class="avito-modal__image" src="" alt="–§–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞">
                </div>
                
                <button class="avito-modal__nav-btn avito-modal__nav-prev" onclick="changeAvitoPhoto(-1)">
                    ‚Äπ
                </button>
                <button class="avito-modal__nav-btn avito-modal__nav-next" onclick="changeAvitoPhoto(1)">
                    ‚Ä∫
                </button>
                
                <div class="avito-modal__dots" id="avitoModalDots"></div>
            </div>
            
            <div class="avito-modal__info">
                <h1 class="avito-modal__title" id="avitoModalTitle"></h1>
                <div class="avito-modal__price" id="avitoModalPrice"></div>
                
                <div class="avito-modal__section-title">–û–ø–∏—Å–∞–Ω–∏–µ</div>
                <p class="avito-modal__description" id="avitoModalDescription"></p>
                
                <div class="avito-modal__section-title">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</div>
                <div class="avito-modal__details" id="avitoModalDetails"></div>
                
                <button class="avito-modal__cart-btn" id="avitoModalCartBtn">
                    <i class="fas fa-cart-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
                </button>
            </div>
        </div>
    </div>

    <!-- –ü–ª–∞–≤–∞—é—â–∞—è –∏–∫–æ–Ω–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã -->
    <div id="cart-icon-float">
        üõí
        <div id="cart-badge-float">0</div>
    </div>

    <!-- –ü–æ–¥–≤–∞–ª -->
    <footer id="contact">
        <div class="footer-content">
            <h3 style="font-size: 28px; margin-bottom: 20px;">MagicToys</h3>
            <p style="font-size: 16px; opacity: 0.9; max-width: 600px; margin: 0 auto 30px;">
                –°–¥–µ–ª–∞–µ–º –¥–µ—Ç—Å—Ç–≤–æ –≤–∞—à–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞ –≤–æ–ª—à–µ–±–Ω—ã–º! –ú—ã –≤—Å–µ–≥–¥–∞ –Ω–∞ —Å–≤—è–∑–∏ –∏ –≥–æ—Ç–æ–≤—ã –ø–æ–º–æ—á—å —Å –≤—ã–±–æ—Ä–æ–º –∏–¥–µ–∞–ª—å–Ω–æ–π –∏–≥—Ä—É—à–∫–∏.
            </p>
            <div class="footer-links">
                <a href="https://t.me/NewshopNm" target="_blank"><i class="fab fa-telegram"></i> Telegram</a>
                <a href="tel:+79991234567"><i class="fas fa-phone"></i> +7 (999) 123-45-67</a>
                <a href="mailto:info@magictoys.ru"><i class="fas fa-envelope"></i> info@magictoys.ru</a>
                <a href="#"><i class="fas fa-map-marker-alt"></i> –ú–æ—Å–∫–≤–∞, —É–ª. –ò–≥—Ä—É—à–µ—á–Ω–∞—è, 15</a>
            </div>
            <div class="copyright">
                ¬© 2024 MagicToys. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. –°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π –∏–≥—Ä—É—à–µ–∫
            </div>
        </div>
    </footer>

<script>
// ==============================================
// –î–ê–ù–ù–´–ï –¢–û–í–ê–†–û–í
// ==============================================
const productData = {
    'dragon': {
        name: '–î—Ä–∞–∫–æ–Ω —Å–≤–µ—Ç—è—â–∏–π—Å—è –≤ —Ç–µ–º–Ω–æ—Ç–µ',
        price: '350',
        description: '–í–µ–ª–∏–∫–æ–ª–µ–ø–Ω—ã–π —Å–≤–µ—Ç—è—â–∏–π—Å—è –¥—Ä–∞–∫–æ–Ω —Å –ø–æ–¥–≤–∏–∂–Ω—ã–º–∏ –∫—Ä—ã–ª—å—è–º–∏ –∏ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ –∑–≤—É–∫–æ–≤—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏. –ò–≥—Ä—É—à–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑–æ–ø–∞—Å–Ω–∞ –¥–ª—è –¥–µ—Ç–µ–π, –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –∏–∑ –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–ª–∞—Å—Ç–∏–∫–∞ –±–µ–∑ –æ—Å—Ç—Ä—ã—Ö –∫—Ä–∞–µ–≤. –í —Ç–µ–º–Ω–æ—Ç–µ –¥—Ä–∞–∫–æ–Ω —Å–≤–µ—Ç–∏—Ç—Å—è –Ω–µ–∂–Ω—ã–º –∑–µ–ª–µ–Ω—ã–º —Å–≤–µ—á–µ–Ω–∏–µ–º, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –≤–æ–ª—à–µ–±–Ω—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –≤ –¥–µ—Ç—Å–∫–æ–π –∫–æ–º–Ω–∞—Ç–µ. –ö—Ä—ã–ª—å—è –ø–æ–¥–≤–∏–∂–Ω—ã–µ, –ø–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–æ–∑—ã. –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç 3-—Ö –±–∞—Ç–∞—Ä–µ–µ–∫ –ê–ê (–≤ –∫–æ–º–ø–ª–µ–∫—Ç –Ω–µ –≤—Ö–æ–¥—è—Ç).',
        details: {
            '–ê—Ä—Ç–∏–∫—É–ª': 'DRG-2024',
            '–í–æ–∑—Ä–∞—Å—Ç': '5+ –ª–µ—Ç',
            '–ú–∞—Ç–µ—Ä–∏–∞–ª': '–ü–ª–∞—Å—Ç–∏–∫, —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã',
            '–†–∞–∑–º–µ—Ä': '25 √ó 18 √ó 12 —Å–º',
            '–í –Ω–∞–ª–∏—á–∏–∏': '–î–∞',
            '–¶–≤–µ—Ç': '–ë–µ–ª—ã–π —Å –∑–µ–ª–µ–Ω–æ–π –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π',
            '–í–µ—Å': '450 –≥',
            '–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏': '–°–≤–µ—Ç–∏—Ç—Å—è –≤ —Ç–µ–º–Ω–æ—Ç–µ, –∑–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã'
        },
        photos: [
            {url: 'toys-images/dragons/white.png', alt: '–ë–µ–ª—ã–π —Å–≤–µ—Ç—è—â–∏–π—Å—è –¥—Ä–∞–∫–æ–Ω'},
            {url: 'https://via.placeholder.com/800x600/4CAF50/FFFFFF?text=–î—Ä–∞–∫–æ–Ω+–≤–∏–¥+2', alt: '–î—Ä–∞–∫–æ–Ω —Å–±–æ–∫—É'},
            {url: 'https://via.placeholder.com/800x600/4CAF50/FFFFFF?text=–î—Ä–∞–∫–æ–Ω+–≤–∏–¥+3', alt: '–î—Ä–∞–∫–æ–Ω —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π'}
        ]
    },
    'kakashi': {
        name: '–§–∏–≥—É—Ä–∫–∞ –ö–∞–∫–∞—à–∏ –•–∞—Ç–∞–∫–µ',
        price: '899',
        description: '–î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω–∞—è —Ñ–∏–≥—É—Ä–∫–∞ –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –∏–∑ –∞–Ω–∏–º–µ "–ù–∞—Ä—É—Ç–æ" - –ö–∞–∫–∞—à–∏ –•–∞—Ç–∞–∫–µ. –í—ã–ø–æ–ª–Ω–µ–Ω–∞ —Å –≤—ã—Å–æ–∫–æ–π —Ç–æ—á–Ω–æ—Å—Ç—å—é: –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω—ã –≤—Å–µ –¥–µ—Ç–∞–ª–∏ –∫–æ—Å—Ç—é–º–∞, –≤–∫–ª—é—á–∞—è –º–∞—Å–∫—É, —à—Ä–∞–º –Ω–∞ –≥–ª–∞–∑—É –∏ –∑–Ω–∞–∫ –¥–µ—Ä–µ–≤–Ω–∏. –§–∏–≥—É—Ä–∫–∞ –∏–º–µ–µ—Ç 12 —Ç–æ—á–µ–∫ –∞—Ä—Ç–∏–∫—É–ª—è—Ü–∏–∏, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ—Å—Å–æ–∑–¥–∞–≤–∞—Ç—å –ª—é–±—ã–µ –ø–æ–∑—ã –∏–∑ —Å–µ—Ä–∏–∞–ª–∞. –í –∫–æ–º–ø–ª–µ–∫—Ç–µ –∏–¥—É—Ç —Å–º–µ–Ω–Ω—ã–µ —Ä—É–∫–∏ –∏ –æ—Ä—É–∂–∏–µ. –û—Ç–ª–∏—á–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫ –¥–ª—è —Ñ–∞–Ω–∞—Ç–æ–≤ –ù–∞—Ä—É—Ç–æ –∏ –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–µ—Ä–æ–≤.',
        details: {
            '–ê—Ä—Ç–∏–∫—É–ª': 'KKSH-001',
            '–í–æ–∑—Ä–∞—Å—Ç': '14+ –ª–µ—Ç',
            '–ú–∞—Ç–µ—Ä–∏–∞–ª': '–ü–í–•, ABS –ø–ª–∞—Å—Ç–∏–∫',
            '–†–∞–∑–º–µ—Ä': '18 √ó 8 √ó 6 —Å–º',
            '–í –Ω–∞–ª–∏—á–∏–∏': '–î–∞',
            '–¶–≤–µ—Ç': '–°–µ—Ä–µ–±—Ä–∏—Å—Ç—ã–π, —Å–∏–Ω–∏–π, —á–µ—Ä–Ω—ã–π',
            '–í–µ—Å': '320 –≥',
            '–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏': '12 —Ç–æ—á–µ–∫ –∞—Ä—Ç–∏–∫—É–ª—è—Ü–∏–∏, —Å–º–µ–Ω–Ω—ã–µ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã'
        },
        photos: [
            {url: 'toys-images/kakahi/blu.png', alt: '–§–∏–≥—É—Ä–∫–∞ –ö–∞–∫–∞—à–∏'},
            {url: 'https://via.placeholder.com/800x600/2196F3/FFFFFF?text=–ö–∞–∫–∞—à–∏+–≤–∏–¥+2', alt: '–ö–∞–∫–∞—à–∏ –≤–∏–¥ —Å–±–æ–∫—É'},
            {url: 'https://via.placeholder.com/800x600/2196F3/FFFFFF?text=–ö–∞–∫–∞—à–∏+–≤–∏–¥+3', alt: '–ö–∞–∫–∞—à–∏ —Å –æ—Ä—É–∂–∏–µ–º'}
        ]
    },
    'pistol': {
        name: '–ü–∏—Å—Ç–æ–ª–µ—Ç —Å –º—è–≥–∫–∏–º–∏ –ø—É–ª—å–∫–∞–º–∏',
        price: '599',
        description: '–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∏—Å—Ç–æ–ª–µ—Ç –¥–ª—è –¥–µ—Ç–µ–π —Å –º—è–≥–∫–∏–º–∏ –ø—É–ª—å–∫–∞–º–∏. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä –Ω–∞ —Å–≤–µ–∂–µ–º –≤–æ–∑–¥—É—Ö–µ. –ü—É–ª—å–∫–∏ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –∏–∑ –º—è–≥–∫–æ–≥–æ –ø–æ—Ä–æ–ª–æ–Ω–∞, —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã –ø—Ä–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–∏. –ü–∏—Å—Ç–æ–ª–µ—Ç –∏–º–µ–µ—Ç —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω, –Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ —è—Ä–∫–∏—Ö —Ü–≤–µ—Ç–∞—Ö –¥–ª—è –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –≤–Ω–∏–º–∞–Ω–∏—è –¥–µ—Ç–µ–π. –í –∫–æ–º–ø–ª–µ–∫—Ç–µ: –ø–∏—Å—Ç–æ–ª–µ—Ç, 20 –º—è–≥–∫–∏—Ö –ø—É–ª–µ–∫, –º–∏—à–µ–Ω—å. –†–∞–∑–≤–∏–≤–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é –¥–≤–∏–∂–µ–Ω–∏–π –∏ –º–µ—Ç–∫–æ—Å—Ç—å.',
        details: {
            '–ê—Ä—Ç–∏–∫—É–ª': 'PST-2024',
            '–í–æ–∑—Ä–∞—Å—Ç': '6+ –ª–µ—Ç',
            '–ú–∞—Ç–µ—Ä–∏–∞–ª': '–ü–ª–∞—Å—Ç–∏–∫, –ø–æ—Ä–æ–ª–æ–Ω',
            '–†–∞–∑–º–µ—Ä': '22 √ó 15 √ó 5 —Å–º',
            '–í –Ω–∞–ª–∏—á–∏–∏': '–î–∞',
            '–¶–≤–µ—Ç': '–ñ–µ–ª—Ç—ã–π, –æ—Ä–∞–Ω–∂–µ–≤—ã–π',
            '–í–µ—Å': '280 –≥',
            '–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏': '20 –ø—É–ª–µ–∫ –≤ –∫–æ–º–ø–ª–µ–∫—Ç–µ, –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã'
        },
        photos: [
            {url: 'toys-images/pistol/yellow.png', alt: '–ñ–µ–ª—Ç—ã–π –ø–∏—Å—Ç–æ–ª–µ—Ç —Å –ø—É–ª—å–∫–∞–º–∏'},
            {url: 'https://via.placeholder.com/800x600/FFC107/000000?text=–ü–∏—Å—Ç–æ–ª–µ—Ç+–≤–∏–¥+2', alt: '–ö–æ–º–ø–ª–µ–∫—Ç –ø—É–ª–µ–∫'},
            {url: 'https://via.placeholder.com/800x600/FFC107/000000?text=–ü–∏—Å—Ç–æ–ª–µ—Ç+–≤–∏–¥+3', alt: '–ü–∏—Å—Ç–æ–ª–µ—Ç –∏ –º–∏—à–µ–Ω—å'}
        ]
    },
    'labubu': {
        name: '–ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω–∞—è —Ñ–∏–≥—É—Ä–∫–∞ –õ–∞–±—É–±—É',
        price: '1499',
        description: '–û—á–∞—Ä–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω–∞—è —Ñ–∏–≥—É—Ä–∫–∞ –õ–∞–±—É–±—É –æ—Ç –ø–æ–ø—É–ª—è—Ä–Ω–æ–π —Å–µ—Ä–∏–∏. –ö–∞–∂–¥–∞—è —Ñ–∏–≥—É—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–∞ –∏ –∏–º–µ–µ—Ç —Å–≤–æ–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ —á–µ—Ä—Ç—ã. –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –∏–∑ –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤–∏–Ω–∏–ª–∞ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ä–æ—Å–ø–∏—Å—å—é. –û—Ç–ª–∏—á–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫ –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–µ—Ä–æ–≤ —Ñ–∏–≥—É—Ä–æ–∫ –∏ –ø–æ–∫–ª–æ–Ω–Ω–∏–∫–æ–≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–æ–ø-–∫—É–ª—å—Ç—É—Ä—ã. –§–∏–≥—É—Ä–∫–∞ —É–ø–∞–∫–æ–≤–∞–Ω–∞ –≤ —Ñ–∏—Ä–º–µ–Ω–Ω—É—é –ø–æ–¥–∞—Ä–æ—á–Ω—É—é –∫–æ—Ä–æ–±–∫—É.',
        details: {
            '–ê—Ä—Ç–∏–∫—É–ª': 'LBB-001',
            '–í–æ–∑—Ä–∞—Å—Ç': '12+ –ª–µ—Ç',
            '–ú–∞—Ç–µ—Ä–∏–∞–ª': '–í–∏–Ω–∏–ª, –∞–∫—Ä–∏–ª–æ–≤–∞—è –∫—Ä–∞—Å–∫–∞',
            '–†–∞–∑–º–µ—Ä': '10 √ó 8 √ó 8 —Å–º',
            '–í –Ω–∞–ª–∏—á–∏–∏': '–î–∞',
            '–¶–≤–µ—Ç': '–†–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞',
            '–í–µ—Å': '180 –≥',
            '–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏': '–ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω–∞—è, –ø–æ–¥–∞—Ä–æ—á–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞'
        },
        photos: [
            {url: 'toys-images/labubu/grey.jpg', alt: '–°–µ—Ä—ã–π –õ–∞–±—É–±—É'},
            {url: 'toys-images/labubu/purple.jpg', alt: '–§–∏–æ–ª–µ—Ç–æ–≤—ã–π –õ–∞–±—É–±—É'},
            {url: 'toys-images/labubu/red.jpg', alt: '–ö—Ä–∞—Å–Ω—ã–π –õ–∞–±—É–±—É'},
            {url: 'toys-images/labubu/white.jpg', alt: '–ë–µ–ª—ã–π –õ–∞–±—É–±—É'}
        ]
    },
    'house': {
        name: '–í–æ–ª—à–µ–±–Ω—ã–π –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –¥–æ–º–∏–∫',
        price: '1799',
        description: '–°–∫–∞–∑–æ—á–Ω—ã–π –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –¥–æ–º–∏–∫ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –∏ –∑–∏–º–Ω–∏–º –¥–µ–∫–æ—Ä–æ–º. –ò–¥–µ–∞–ª—å–Ω–æ —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ! –î–æ–º–∏–∫ –∏–º–µ–µ—Ç —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏: —Å–Ω–µ–≥ –Ω–∞ –∫—Ä—ã—à–µ, —Å–≤–µ—Ç—è—â–∏–µ—Å—è –æ–∫–Ω–∞, –¥—ã–º –∏–∑ —Ç—Ä—É–±—ã. –í–Ω—É—Ç—Ä–∏ –¥–æ–º–∏–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –º–∏–Ω–∏–∞—Ç—é—Ä–Ω–∞—è –Ω–æ–≤–æ–≥–æ–¥–Ω—è—è —Å—Ü–µ–Ω–∞. –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç 2-—Ö –±–∞—Ç–∞—Ä–µ–µ–∫ –ê–ê. –û—Ç–ª–∏—á–Ω–æ–µ —É–∫—Ä–∞—à–µ–Ω–∏–µ –¥–ª—è –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–≥–æ —Å—Ç–æ–ª–∞ –∏–ª–∏ –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞.',
        details: {
            '–ê—Ä—Ç–∏–∫—É–ª': 'HSE-2024',
            '–í–æ–∑—Ä–∞—Å—Ç': '3+ –ª–µ—Ç',
            '–ú–∞—Ç–µ—Ä–∏–∞–ª': '–ü–ª–∞—Å—Ç–∏–∫, —Å–≤–µ—Ç–æ–¥–∏–æ–¥—ã',
            '–†–∞–∑–º–µ—Ä': '20 √ó 15 √ó 18 —Å–º',
            '–í –Ω–∞–ª–∏—á–∏–∏': '–î–∞',
            '–¶–≤–µ—Ç': '–ë–µ–ª—ã–π, –≥–æ–ª—É–±–æ–π, –∑–æ–ª–æ—Ç–æ–π',
            '–í–µ—Å': '520 –≥',
            '–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏': '–°–≤–µ—Ç—è—â–∏–µ—Å—è –æ–∫–Ω–∞, –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –¥–µ–∫–æ—Ä'
        },
        photos: [
            {url: 'https://via.placeholder.com/800x600/FF5722/FFFFFF?text=–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π+–¥–æ–º–∏–∫', alt: '–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –¥–æ–º–∏–∫ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π'}
        ]
    },
    'uno': {
        name: '–ù–∞—Å—Ç–æ–ª—å–Ω–∞—è –∏–≥—Ä–∞ UNO',
        price: '399',
        description: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—Ç–æ—á–Ω–∞—è –∏–≥—Ä–∞ –¥–ª—è –≤—Å–µ–π —Å–µ–º—å–∏. –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ—Å—Ç—ã –∏ –ø–æ–Ω—è—Ç–Ω—ã –¥–∞–∂–µ –¥–µ—Ç—è–º: –Ω—É–∂–Ω–æ –±—ã—Å—Ç—Ä–µ–µ –≤—Å–µ—Ö –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç —Å–≤–æ–∏—Ö –∫–∞—Ä—Ç, –≤—ã–ø–æ–ª–Ω—è—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è. –ò–≥—Ä–∞ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ, –≤–Ω–∏–º–∞–Ω–∏–µ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏. –í –∫–æ–º–ø–ª–µ–∫—Ç–µ: 112 –∫–∞—Ä—Ç, –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ. –û—Ç–ª–∏—á–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫ –¥–ª—è —Å–µ–º–µ–π–Ω–æ–≥–æ –¥–æ—Å—É–≥–∞ –∏ –≤–µ—á–µ—Ä–∏–Ω–æ–∫ —Å –¥—Ä—É–∑—å—è–º–∏.',
        details: {
            '–ê—Ä—Ç–∏–∫—É–ª': 'UNO-001',
            '–í–æ–∑—Ä–∞—Å—Ç': '7+ –ª–µ—Ç',
            '–ú–∞—Ç–µ—Ä–∏–∞–ª': '–ö–∞—Ä—Ç–æ–Ω',
            '–†–∞–∑–º–µ—Ä': '9.5 √ó 6 √ó 2.5 —Å–º',
            '–í –Ω–∞–ª–∏—á–∏–∏': '–î–∞',
            '–¶–≤–µ—Ç': '–†–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã–π',
            '–í–µ—Å': '150 –≥',
            '–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏': '2-10 –∏–≥—Ä–æ–∫–æ–≤, –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º'
        },
        photos: [
            {url: 'https://via.placeholder.com/800x600/3F51B5/FFFFFF?text=–ò–≥—Ä–∞+UNO+–∫–æ—Ä–æ–±–∫–∞', alt: '–ö–æ—Ä–æ–±–∫–∞ –∏–≥—Ä—ã UNO'},
            {url: 'https://via.placeholder.com/800x600/3F51B5/FFFFFF?text=–ö–∞—Ä—Ç—ã+UNO', alt: '–ö–∞—Ä—Ç—ã –∏–≥—Ä—ã UNO'}
        ]
    }
};

// ==============================================
// –ì–õ–û–ë–ê–õ–¨–ù–´–ô –û–ë–™–ï–ö–¢ –ö–û–†–ó–ò–ù–´ (–≤–∑—è—Ç —Å –¥—Ä—É–≥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
// ==============================================

window.cart = {
    items: [],
    total: 0,
    
    // –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É
    addItem: function(product) {
        const existingItem = this.items.find(item => 
            item.id === product.id
        );
        
        if (existingItem) {
            existingItem.quantity += 1;
        } else {
            this.items.push({
                ...product,
                quantity: 1
            });
        }
        
        this.updateTotal();
        this.saveToStorage();
        this.updateBadges();
        this.showNotification(product.title);
    },
    
    // –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
    removeItem: function(index) {
        this.items.splice(index, 1);
        this.updateTotal();
        this.saveToStorage();
        this.updateBadges();
    },
    
    // –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞
    updateQuantity: function(index, quantity) {
        if (quantity < 1) {
            this.removeItem(index);
            return;
        }
        this.items[index].quantity = quantity;
        this.updateTotal();
        this.saveToStorage();
        this.updateBadges();
    },
    
    // –û–±–Ω–æ–≤–∏—Ç—å –æ–±—â—É—é —Å—É–º–º—É
    updateTotal: function() {
        this.total = this.items.reduce((sum, item) => {
            return sum + (parseInt(item.price) * item.quantity);
        }, 0);
    },
    
    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ localStorage
    saveToStorage: function() {
        localStorage.setItem('shoppingCart', JSON.stringify({
            items: this.items,
            total: this.total
        }));
    },
    
    // –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ localStorage
    loadFromStorage: function() {
        const saved = localStorage.getItem('shoppingCart');
        if (saved) {
            const data = JSON.parse(saved);
            this.items = data.items || [];
            this.total = data.total || 0;
            this.updateBadges();
        }
    },
    
    // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏
    showNotification: function(productTitle) {
        const notification = document.createElement('div');
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 10000;
            animation: slideIn 0.3s ease;
            max-width: 300px;
            font-family: Arial, sans-serif;
        `;
        notification.innerHTML = `
            <div style="display: flex; align-items: center; gap: 10px;">
                <span style="font-size: 24px;">‚úÖ</span>
                <div>
                    <strong>–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É!</strong>
                    <div style="font-size: 0.9em; opacity: 0.9;">${productTitle}</div>
                </div>
            </div>
        `;
        
        document.body.appendChild(notification);
        
        setTimeout(() => {
            notification.style.animation = 'slideOut 0.3s ease';
            setTimeout(() => notification.remove(), 300);
        }, 3000);
    },
    
    // –û–±–Ω–æ–≤–∏—Ç—å –±–µ–π–¥–∂–∏ –Ω–∞ –≤—Å–µ—Ö –∏–∫–æ–Ω–∫–∞—Ö –∫–æ—Ä–∑–∏–Ω—ã
    updateBadges: function() {
        const badges = document.querySelectorAll('#cart-badge, #cart-badge-float');
        if (badges.length > 0) {
            const totalItems = this.items.reduce((sum, item) => sum + item.quantity, 0);
            badges.forEach(badge => {
                badge.textContent = totalItems;
                badge.style.display = totalItems > 0 ? 'flex' : 'none';
            });
        }
    },
    
    // –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
    clear: function() {
        this.items = [];
        this.total = 0;
        this.saveToStorage();
        this.updateBadges();
    },
    
    // –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –∑–∞–∫–∞–∑–∞ –¥–ª—è Telegram
    getOrderText: function() {
        let text = "üéÅ –ó–ê–ö–ê–ó –ò–ì–†–£–®–ï–ö üéÅ\n\n";
        text += "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ —Å–ª–µ–¥—É—é—â–∏–µ –∏–≥—Ä—É—à–∫–∏:\n\n";
        
        this.items.forEach((item, index) => {
            const itemPrice = parseInt(item.price);
            const itemTotal = itemPrice * item.quantity;
            text += `${index + 1}. ${item.title}\n`;
            text += `   –¶–µ–Ω–∞: ${itemPrice} ‚ÇΩ\n`;
            text += `   –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: ${item.quantity}\n`;
            text += `   –°—É–º–º–∞: ${itemTotal} ‚ÇΩ\n\n`;
        });
        
        const discount = this.total > 3000 ? Math.floor(this.total * 0.1) : 0;
        const finalTotal = this.total - discount;
        
        text += `\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`;
        text += `–ò—Ç–æ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤: ${this.total} ‚ÇΩ\n`;
        
        if (discount > 0) {
            text += `–°–∫–∏–¥–∫–∞ 10%: -${discount} ‚ÇΩ\n`;
        }
        
        text += `–ò–¢–û–ì–û –ö –û–ü–õ–ê–¢–ï: ${finalTotal} ‚ÇΩ\n`;
        
        text += `\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`;
        text += `üì¶ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ:\n`;
        text += `‚Ä¢ –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –ø—Ä–∏ –∑–∞–∫–∞–∑–µ –æ—Ç 5000 ‚ÇΩ\n`;
        text += `‚Ä¢ –î–æ—Å—Ç–∞–≤–∫–∞ –∫—É—Ä—å–µ—Ä–æ–º 1-3 –¥–Ω—è\n`;
        text += `‚Ä¢ –°–∞–º–æ–≤—ã–≤–æ–∑ –∏–∑ –º–∞–≥–∞–∑–∏–Ω–∞\n`;
        text += `\n–ì–æ—Ç–æ–≤ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∞–¥—Ä–µ—Å –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏.\n`;
        text += `–û–∂–∏–¥–∞—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö –æ–ø–ª–∞—Ç—ã.`;
        
        return text;
    }
};

// ==============================================
// –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –¢–û–í–ê–†–ê (–§–£–ù–ö–¶–ò–ò)
// ==============================================

let currentAvitoProduct = null;
let currentAvitoPhotoIndex = 0;
let isZoomed = false;

function openAvitoModal(productId) {
    const product = productData[productId];
    if (!product) return;
    
    currentAvitoProduct = productId;
    currentAvitoPhotoIndex = 0;
    isZoomed = false;
    
    // –ó–∞–ø–æ–ª–Ω—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–≤–∞—Ä–µ
    document.getElementById('avitoModalTitle').textContent = product.name;
    document.getElementById('avitoModalPrice').textContent = product.price;
    document.getElementById('avitoModalDescription').textContent = product.description;
    
    // –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–µ—Ç–∞–ª–∏ —Ç–æ–≤–∞—Ä–∞
    const detailsContainer = document.getElementById('avitoModalDetails');
    detailsContainer.innerHTML = '';
    
    for (const [key, value] of Object.entries(product.details)) {
        const detailRow = document.createElement('div');
        detailRow.className = 'avito-modal__detail-row';
        detailRow.innerHTML = `
            <span class="avito-modal__detail-label">${key}</span>
            <span class="avito-modal__detail-value">${value}</span>
        `;
        detailsContainer.appendChild(detailRow);
    }
    
    // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É
    const addToCartBtn = document.getElementById('avitoModalCartBtn');
    addToCartBtn.onclick = (e) => {
        e.stopPropagation();
        addToCart(productId, product.name, product.price);
        closeAvitoModal();
    };
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    loadAvitoPhoto(productId, 0);
    
    // –°–æ–∑–¥–∞–µ–º —Ç–æ—á–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
    createAvitoDots(product.photos.length);
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    const modal = document.getElementById('avitoModal');
    modal.classList.add('active');
    document.body.classList.add('modal-open');
}

function loadAvitoPhoto(productId, index) {
    const product = productData[productId];
    if (!product || !product.photos || index >= product.photos.length) return;
    
    const modalImg = document.getElementById('avitoModalImage');
    const photo = product.photos[index];
    
    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ñ–æ—Ç–æ
    modalImg.classList.remove('zoomed');
    isZoomed = false;
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º placeholder –ø–æ–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    modalImg.src = getPlaceholderUrl(productId, index);
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–µ–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    const realImg = new Image();
    realImg.onload = () => {
        modalImg.src = photo.url;
        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è
        modalImg.onclick = (e) => {
            e.stopPropagation();
            toggleZoom();
        };
    };
    realImg.onerror = () => {
        console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:', photo.url);
        modalImg.onclick = (e) => {
            e.stopPropagation();
            toggleZoom();
        };
    };
    realImg.src = photo.url;
    
    modalImg.alt = photo.alt;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é —Ç–æ—á–∫—É
    updateAvitoDots(index);
    currentAvitoPhotoIndex = index;
}

function toggleZoom() {
    const modalImg = document.getElementById('avitoModalImage');
    isZoomed = !isZoomed;
    modalImg.classList.toggle('zoomed', isZoomed);
}

function getPlaceholderUrl(productId, index) {
    const colors = {
        'dragon': '#4CAF50',
        'kakashi': '#2196F3',
        'pistol': '#FFC107',
        'labubu': '#9C27B0',
        'house': '#FF5722',
        'uno': '#3F51B5'
    };
    
    const names = {
        'dragon': '–î—Ä–∞–∫–æ–Ω',
        'kakashi': '–ö–∞–∫–∞—à–∏',
        'pistol': '–ü–∏—Å—Ç–æ–ª–µ—Ç',
        'labubu': '–õ–∞–±—É–±—É',
        'house': '–î–æ–º–∏–∫',
        'uno': 'UNO'
    };
    
    const color = colors[productId] || '#2196F3';
    const name = names[productId] || '–¢–æ–≤–∞—Ä';
    const hexColor = color.startsWith('#') ? color.substring(1) : '2196F3';
    
    return `https://via.placeholder.com/600x400/${hexColor}/FFFFFF?text=${encodeURIComponent(name)}+${index + 1}`;
}

function createAvitoDots(total) {
    const dotsContainer = document.getElementById('avitoModalDots');
    dotsContainer.innerHTML = '';
    
    for (let i = 0; i < total; i++) {
        const dot = document.createElement('span');
        dot.className = `avito-modal__dot ${i === 0 ? 'active' : ''}`;
        dot.onclick = (e) => {
            e.stopPropagation();
            loadAvitoPhoto(currentAvitoProduct, i);
        };
        dotsContainer.appendChild(dot);
    }
}

function updateAvitoDots(activeIndex) {
    const dots = document.querySelectorAll('.avito-modal__dot');
    dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === activeIndex);
    });
}

function changeAvitoPhoto(direction) {
    if (!currentAvitoProduct) return;
    
    const product = productData[currentAvitoProduct];
    if (!product || !product.photos || product.photos.length <= 1) return;
    
    const total = product.photos.length;
    let newIndex = (currentAvitoPhotoIndex + direction + total) % total;
    
    loadAvitoPhoto(currentAvitoProduct, newIndex);
}

function closeAvitoModal(event) {
    if (event && event.target.id !== 'avitoModal' && !event.target.classList.contains('avito-modal__back-btn')) {
        return;
    }
    
    const modal = document.getElementById('avitoModal');
    modal.classList.remove('active');
    document.body.classList.remove('modal-open');
    
    currentAvitoProduct = null;
    currentAvitoPhotoIndex = 0;
}

// ==============================================
// –§–£–ù–ö–¶–ò–ò –î–õ–Ø –†–ê–ë–û–¢–´ –° –ö–û–†–ó–ò–ù–û–ô
// ==============================================

// –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–≤–∞—é—â–µ–π –∏–∫–æ–Ω–∫–∏ –∫–æ—Ä–∑–∏–Ω—ã
function createFloatingCartIcon() {
    const cartIcon = document.getElementById('cart-icon-float');
    if (!cartIcon) return;
    
    cartIcon.addEventListener('click', showCartModal);
    
    // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
    cartIcon.addEventListener('mouseenter', function() {
        this.style.transform = 'scale(1.1)';
        this.style.boxShadow = '0 8px 25px rgba(76, 175, 80, 0.6)';
    });
    
    cartIcon.addEventListener('mouseleave', function() {
        this.style.transform = 'scale(1)';
        this.style.boxShadow = '0 5px 20px rgba(76, 175, 80, 0.4)';
    });
}

// –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ—Ä–∑–∏–Ω—ã
function showCartModal() {
    // –ï—Å–ª–∏ –æ–∫–Ω–æ —É–∂–µ –æ—Ç–∫—Ä—ã—Ç–æ - –∑–∞–∫—Ä—ã–≤–∞–µ–º –µ–≥–æ
    if (document.getElementById('cart-modal')) {
        hideCartModal();
        return;
    }
    
    // –°–æ–∑–¥–∞–µ–º –æ–≤–µ—Ä–ª–µ–π
    const overlay = document.createElement('div');
    overlay.id = 'cart-overlay';
    overlay.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        z-index: 10000;
        animation: fadeIn 0.3s ease;
    `;
    
    // –°–æ–∑–¥–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
    const modal = document.createElement('div');
    modal.id = 'cart-modal';
    modal.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: white;
        width: 95%;
        max-width: 800px;
        max-height: 85vh;
        border-radius: 20px;
        overflow: hidden;
        z-index: 10001;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        display: flex;
        flex-direction: column;
        animation: modalSlideIn 0.3s ease;
    `;
    
    modal.innerHTML = `
        <div style="background: linear-gradient(90deg, #6a11cb, #2575fc); color: white; padding: 25px; text-align: center; position: relative;">
            <h2 style="margin: 0; font-size: 1.8em;">üõí –í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
            <div style="font-size: 0.9em; opacity: 0.9; margin-top: 5px;">–¢–æ–≤–∞—Ä–æ–≤: ${window.cart.items.reduce((sum, item) => sum + item.quantity, 0)}</div>
            <button id="close-cart" style="position: absolute; top: 15px; right: 15px; background: none; border: none; color: white; font-size: 30px; cursor: pointer; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: background 0.3s;">√ó</button>
        </div>
        <div id="cart-content" style="padding: 25px; overflow-y: auto; flex-grow: 1;"></div>
        <div id="cart-footer" style="padding: 25px; background: #f9f9f9; border-top: 1px solid #eee;"></div>
    `;
    
    document.body.appendChild(overlay);
    document.body.appendChild(modal);
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ—Ä–∑–∏–Ω—ã
    updateCartContent();
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ –∫—Ä–µ—Å—Ç–∏–∫—É
    document.getElementById('close-cart').addEventListener('click', function() {
        hideCartModal();
    });
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ –∫–ª–∏–∫—É –Ω–∞ –æ–≤–µ—Ä–ª–µ–π
    overlay.addEventListener('click', function(e) {
        if (e.target === overlay) {
            hideCartModal();
        }
    });
    
    document.body.classList.add('cart-open');
}

// –°–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ—Ä–∑–∏–Ω—ã
function hideCartModal() {
    const modal = document.getElementById('cart-modal');
    const overlay = document.getElementById('cart-overlay');
    
    if (modal) {
        modal.style.animation = 'modalSlideOut 0.3s ease forwards';
        setTimeout(() => {
            if (modal.parentNode) {
                modal.parentNode.removeChild(modal);
            }
        }, 300);
    }
    
    if (overlay) {
        overlay.style.opacity = '0';
        setTimeout(() => {
            if (overlay.parentNode) {
                overlay.parentNode.removeChild(overlay);
            }
        }, 300);
    }
    
    document.body.classList.remove('cart-open');
}

// –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ—Ä–∑–∏–Ω—ã –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
function updateCartContent() {
    const content = document.getElementById('cart-content');
    const footer = document.getElementById('cart-footer');
    
    if (!content || !footer) return;
    
    // –ï—Å–ª–∏ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞
    if (window.cart.items.length === 0) {
        content.innerHTML = `
            <div style="text-align: center; padding: 50px 20px;">
                <div style="font-size: 80px; margin-bottom: 20px; color: #e0e0e0;">üõçÔ∏è</div>
                <h3 style="color: #666; margin-bottom: 15px;">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</h3>
                <p style="color: #999; margin-bottom: 30px; max-width: 400px; margin-left: auto; margin-right: auto;">
                    –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ –Ω–∞—à–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞, —á—Ç–æ–±—ã –æ–Ω–∏ –ø–æ—è–≤–∏–ª–∏—Å—å –∑–¥–µ—Å—å
                </p>
                <button onclick="hideCartModal()" style="padding: 15px 40px; background: #6a11cb; color: white; border: none; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: bold;">
                    –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏
                </button>
            </div>
        `;
        
        footer.innerHTML = `
            <div style="text-align: center; color: #888; font-size: 0.9em;">
                –¢–æ–≤–∞—Ä—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∫–æ—Ä–∑–∏–Ω–µ –¥–∞–∂–µ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            </div>
        `;
        return;
    }
    
    // –ï—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ
    const discount = window.cart.total > 3000 ? Math.floor(window.cart.total * 0.1) : 0;
    const finalTotal = window.cart.total - discount;
    const totalItems = window.cart.items.reduce((sum, item) => sum + item.quantity, 0);
    
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤
    let itemsHTML = '';
    window.cart.items.forEach((item, index) => {
        const itemTotal = parseInt(item.price) * item.quantity;
        itemsHTML += `
            <div style="background: white; border: 1px solid #e0e0e0; border-radius: 15px; padding: 20px; margin-bottom: 20px; transition: all 0.3s;">
                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                    <div style="flex-grow: 1;">
                        <h4 style="margin: 0 0 10px 0; color: #333; font-size: 1.1em;">${item.title}</h4>
                        <div style="color: #666; font-size: 0.9em;">
                            <div>üí∞ –¶–µ–Ω–∞: <strong>${item.price} ‚ÇΩ</strong></div>
                        </div>
                    </div>
                    <button onclick="removeFromCart(${index})" style="background: none; border: none; color: #ff5722; cursor: pointer; font-size: 24px; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: background 0.3s;" 
                            onmouseenter="this.style.background='#ffebee'" 
                            onmouseleave="this.style.background='none'">
                        √ó
                    </button>
                </div>
                <div style="display: flex; align-items: center; justify-content: space-between; border-top: 1px solid #f0f0f0; padding-top: 15px;">
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <button onclick="updateQuantity(${index}, ${item.quantity - 1})" 
                                style="width: 40px; height: 40px; border: 2px solid #6a11cb; background: white; color: #6a11cb; border-radius: 50%; cursor: pointer; font-size: 20px; font-weight: bold; display: flex; align-items: center; justify-content: center;">
                            -
                        </button>
                        <span style="font-weight: bold; font-size: 1.2em; min-width: 30px; text-align: center;">${item.quantity}</span>
                        <button onclick="updateQuantity(${index}, ${item.quantity + 1})" 
                                style="width: 40px; height: 40px; border: 2px solid #6a11cb; background: #6a11cb; color: white; border-radius: 50%; cursor: pointer; font-size: 20px; font-weight: bold; display: flex; align-items: center; justify-content: center;">
                            +
                        </button>
                        <span style="color: #666; margin-left: 10px;">—à—Ç</span>
                    </div>
                    <div style="font-weight: bold; color: #ff9800; font-size: 1.3em;">
                        ${itemTotal} ‚ÇΩ
                    </div>
                </div>
            </div>
        `;
    });
    
    content.innerHTML = itemsHTML;
    
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ—É—Ç–µ—Ä–∞ —Å –∏—Ç–æ–≥–∞–º–∏
    footer.innerHTML = `
        <div style="margin-bottom: 25px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px solid #eee;">
                <span style="color: #666;">–¢–æ–≤–∞—Ä—ã (${totalItems}):</span>
                <span style="font-weight: bold;">${window.cart.total} ‚ÇΩ</span>
            </div>
            
            ${discount > 0 ? `
                <div style="display: flex; justify-content: space-between; margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px solid #eee; color: #4CAF50;">
                    <span>–°–∫–∏–¥–∫–∞ 10%:</span>
                    <span><strong>-${discount} ‚ÇΩ</strong></span>
                </div>
            ` : ''}
            
            <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 1.3em; padding-top: 15px; margin-top: 10px; border-top: 2px solid #6a11cb;">
                <span>–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ:</span>
                <span style="color: #ff9800;">${finalTotal} ‚ÇΩ</span>
            </div>
            
            ${window.cart.total >= 3000 ? `
                <div style="background: #e8f5e9; padding: 15px; border-radius: 10px; margin-top: 20px; text-align: center; color: #2e7d32; border: 1px solid #c8e6c9;">
                    <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 5px;">
                        <span style="font-size: 1.2em;">üéâ</span>
                        <strong>–í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —Å–∫–∏–¥–∫—É 10%!</strong>
                    </div>
                    <div style="font-size: 0.9em;">
                        ${window.cart.total >= 5000 ? '‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞' : `–î–æ–±–∞–≤—å—Ç–µ –µ—â—ë –Ω–∞ ${5000 - window.cart.total} ‚ÇΩ –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏`}
                    </div>
                </div>
            ` : window.cart.total >= 2000 ? `
                <div style="background: #fff3e0; padding: 15px; border-radius: 10px; margin-top: 20px; text-align: center; color: #ef6c00; border: 1px solid #ffe0b2;">
                    <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 5px;">
                        <span style="font-size: 1.2em;">üéØ</span>
                        <strong>–î–æ —Å–∫–∏–¥–∫–∏ 10% –æ—Å—Ç–∞–ª–æ—Å—å –≤—Å–µ–≥–æ ${3000 - window.cart.total} ‚ÇΩ!</strong>
                    </div>
                    <div style="font-size: 0.9em;">
                        –î–æ–±–∞–≤—å—Ç–µ –µ—â—ë –æ–¥–∏–Ω —Ç–æ–≤–∞—Ä –∏ –ø–æ–ª—É—á–∏—Ç–µ –≤—ã–≥–æ–¥—É
                    </div>
                </div>
            ` : ''}
        </div>
        
        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
            <button onclick="clearCart()" 
                    style="padding: 15px 25px; background: #f5f5f5; color: #666; border: 1px solid #ddd; border-radius: 10px; cursor: pointer; font-size: 16px; flex: 1; min-width: 150px; transition: all 0.3s;"
                    onmouseenter="this.style.background='#eeeeee'"
                    onmouseleave="this.style.background='#f5f5f5'">
                üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
            </button>
            <button onclick="proceedToCheckout()" 
                    style="padding: 15px 25px; background: linear-gradient(90deg, #6a11cb, #2575fc); color: white; border: none; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: bold; flex: 2; min-width: 200px; transition: all 0.3s;"
                    onmouseenter="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 5px 15px rgba(106, 17, 203, 0.4)'"
                    onmouseleave="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                üí¨ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ –≤ Telegram
            </button>
        </div>
        
        <div style="text-align: center; margin-top: 20px; color: #888; font-size: 0.9em;">
            –ù–∞–∂–∏–º–∞—è "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑", –≤—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ Telegram
        </div>
    `;
}

// ==============================================
// –ì–õ–û–ë–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò –î–õ–Ø HTML
// ==============================================

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ –∫–Ω–æ–ø–æ–∫)
window.addToCart = function(id, title, price) {
    window.cart.addItem({
        id: id,
        title: title,
        price: price
    });
}

// –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
window.removeFromCart = function(index) {
    window.cart.removeItem(index);
    updateCartContent();
}

// –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞
window.updateQuantity = function(index, quantity) {
    window.cart.updateQuantity(index, quantity);
    updateCartContent();
}

// –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
window.clearCart = function() {
    if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É?')) {
        window.cart.clear();
        updateCartContent();
    }
}

// –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é –∑–∞–∫–∞–∑–∞
window.proceedToCheckout = function() {
    const orderText = window.cart.getOrderText();
    const telegramLink = 'https://t.me/NewshopNm';
    
    // –ö–æ–ø–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
    navigator.clipboard.writeText(orderText).then(() => {
        const content = document.getElementById('cart-content');
        const footer = document.getElementById('cart-footer');
        
        content.innerHTML = `
            <div style="text-align: center; padding: 30px 20px;">
                <div style="font-size: 80px; color: #4CAF50; margin-bottom: 20px;">‚úÖ</div>
                <h3 style="color: #333; margin-bottom: 15px;">–¢–µ–∫—Å—Ç –∑–∞–∫–∞–∑–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!</h3>
                <p style="color: #666; margin-bottom: 30px; max-width: 500px; margin-left: auto; margin-right: auto;">
                    –ú—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ —Ç–µ–∫—Å—Ç –≤–∞—à–µ–≥–æ –∑–∞–∫–∞–∑–∞. –¢–µ–ø–µ—Ä—å –≤–∞–º –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–≥–æ –Ω–∞—à–µ–º—É –º–µ–Ω–µ–¥–∂–µ—Ä—É –≤ Telegram.
                </p>
                
                <div style="background: #f0f7ff; padding: 25px; border-radius: 15px; margin: 25px 0; border: 2px solid #4CAF50;">
                    <h4 style="color: #1976d2; margin-top: 0; margin-bottom: 15px;">üìã –î–∞–ª–µ–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ 3 –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–∞:</h4>
                    <div style="display: grid; grid-template-columns: 1fr; gap: 15px; text-align: left;">
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <div style="background: #4CAF50; color: white; width: 35px; height: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">1</div>
                            <div>
                                <strong>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ü–µ—Ä–µ–π—Ç–∏ –≤ Telegram"</strong>
                                <div style="color: #666; font-size: 0.9em; margin-top: 5px;">–û—Ç–∫—Ä–æ–µ—Ç—Å—è —á–∞—Ç —Å –Ω–∞—à–∏–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º</div>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <div style="background: #4CAF50; color: white; width: 35px; height: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">2</div>
                            <div>
                                <strong>–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç</strong>
                                <div style="color: #666; font-size: 0.9em; margin-top: 5px;">–ù–∞–∂–º–∏—Ç–µ "–í—Å—Ç–∞–≤–∏—Ç—å" –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ Telegram</div>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <div style="background: #4CAF50; color: white; width: 35px; height: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">3</div>
                            <div>
                                <strong>–£–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</strong>
                                <div style="color: #666; font-size: 0.9em; margin-top: 5px;">–ò –ø–æ–ª—É—á–∏—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `;
        
        footer.innerHTML = `
            <div style="display: flex; gap: 15px; justify-content: center;">
                <a href="${telegramLink}" target="_blank" 
                   style="padding: 18px 35px; background: #0088cc; color: white; text-decoration: none; border-radius: 12px; font-weight: bold; display: flex; align-items: center; gap: 12px; font-size: 17px; transition: all 0.3s;"
                   onmouseenter="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 8px 20px rgba(0, 136, 204, 0.4)'"
                   onmouseleave="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                    <span style="font-size: 24px;">üì±</span>
                    –ü–µ—Ä–µ–π—Ç–∏ –≤ Telegram
                </a>
                <button onclick="updateCartContent()" 
                        style="padding: 18px 30px; background: #f5f5f5; color: #666; border: 1px solid #ddd; border-radius: 12px; cursor: pointer; font-size: 16px; transition: all 0.3s;"
                        onmouseenter="this.style.background='#eeeeee'"
                        onmouseleave="this.style.background='#f5f5f5'">
                    –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–æ—Ä–∑–∏–Ω–µ
                </button>
            </div>
            
            <div style="margin-top: 25px; padding: 20px; background: #e3f2fd; border-radius: 12px; border: 1px solid #bbdefb;">
                <h4 style="margin-top: 0; margin-bottom: 15px; color: #1976d2; display: flex; align-items: center; gap: 10px;">
                    <span>üìû –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</span>
                </h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                    <div>
                        <strong style="color: #333;">–¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è –æ–ø–ª–∞—Ç—ã:</strong><br>
                        <span style="color: #666;">8-800-123-45-67</span>
                    </div>
                    <div>
                        <strong style="color: #333;">Telegram –º–µ–Ω–µ–¥–∂–µ—Ä–∞:</strong><br>
                        <span style="color: #666;">@NewshopNm</span>
                    </div>
                    <div>
                        <strong style="color: #333;">–î–æ—Å—Ç–∞–≤–∫–∞:</strong><br>
                        <span style="color: #666;">1-3 –¥–Ω—è, —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ</span>
                    </div>
                </div>
            </div>
        `;
        
    }).catch(err => {
        // –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
        const manualText = `–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç –≤—Ä—É—á–Ω—É—é:\n\n${orderText}`;
        alert(manualText);
        window.open(telegramLink, '_blank');
    });
};

// ==============================================
// –ó–ê–ì–†–£–ó–ö–ê –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô –¢–û–í–ê–†–û–í
// ==============================================

function loadProductImages() {
    const products = ['dragon', 'kakashi', 'pistol', 'labubu', 'house', 'uno'];
    
    products.forEach(productId => {
        const product = productData[productId];
        if (!product || !product.photos || product.photos.length === 0) return;
        
        const imgElement = document.getElementById(`${productId}-img`);
        if (!imgElement) return;
        
        // –ü—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–≤–æ–µ —Ñ–æ—Ç–æ
        const firstPhoto = product.photos[0];
        const realImg = new Image();
        
        realImg.onload = () => {
            imgElement.src = firstPhoto.url;
            imgElement.alt = firstPhoto.alt;
        };
        
        realImg.onerror = () => {
            // –ï—Å–ª–∏ —Ñ–æ—Ç–æ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º placeholder
            imgElement.src = getPlaceholderUrl(productId, 0);
            imgElement.alt = product.name;
        };
        
        realImg.src = firstPhoto.url;
    });
}

// ==============================================
// –ú–û–ë–ò–õ–¨–ù–û–ï –ú–ï–ù–Æ
// ==============================================

class MobileMenu {
    constructor() {
        this.menuToggle = document.querySelector('.menu-toggle');
        this.navMenu = document.querySelector('.nav-menu');
        this.init();
    }
    
    init() {
        if (!this.menuToggle || !this.navMenu) return;
        
        this.setupEventListeners();
        this.setupAccessibility();
    }
    
    setupEventListeners() {
        this.menuToggle.addEventListener('click', () => this.toggleMenu());
        
        this.navMenu.addEventListener('click', (e) => {
            if (e.target.tagName === 'A') {
                this.closeMenu();
            }
        });
        
        document.addEventListener('click', this.handleOutsideClick.bind(this));
        document.addEventListener('keydown', this.handleEscapeKey.bind(this));
        
        window.addEventListener('resize', () => {
            if (window.innerWidth > 768 && this.navMenu.classList.contains('active')) {
                this.closeMenu();
            }
        });
    }
    
    setupAccessibility() {
        this.menuToggle.setAttribute('aria-label', '–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é');
        this.menuToggle.setAttribute('aria-expanded', 'false');
        this.menuToggle.setAttribute('aria-controls', 'nav-menu');
        this.navMenu.setAttribute('id', 'nav-menu');
    }
    
    toggleMenu() {
        if (this.navMenu.classList.contains('active')) {
            this.closeMenu();
        } else {
            this.openMenu();
        }
    }
    
    openMenu() {
        this.navMenu.classList.add('active');
        this.menuToggle.setAttribute('aria-expanded', 'true');
        this.menuToggle.querySelector('i').className = 'fas fa-times';
        document.body.style.overflow = 'hidden';
        
        const firstLink = this.navMenu.querySelector('a');
        if (firstLink) firstLink.focus();
    }
    
    closeMenu() {
        this.navMenu.classList.remove('active');
        this.menuToggle.setAttribute('aria-expanded', 'false');
        this.menuToggle.querySelector('i').className = 'fas fa-bars';
        document.body.style.overflow = '';
        this.menuToggle.focus();
    }
    
    handleOutsideClick(e) {
        if (this.navMenu.classList.contains('active') && 
            !this.navMenu.contains(e.target) && 
            !this.menuToggle.contains(e.target)) {
            this.closeMenu();
        }
    }
    
    handleEscapeKey(e) {
        if (e.key === 'Escape' && this.navMenu.classList.contains('active')) {
            this.closeMenu();
        }
    }
}

// ==============================================
// –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–†–ò –ó–ê–ì–†–£–ó–ö–ï –°–¢–†–ê–ù–ò–¶–´
// ==============================================

document.addEventListener('DOMContentLoaded', function() {
    console.log('üöÄ –ú–∞–≥–∞–∑–∏–Ω –∏–≥—Ä—É—à–µ–∫ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...');
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
    loadProductImages();
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É –∏–∑ localStorage
    window.cart.loadFromStorage();
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é
    new MobileMenu();
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–∫–æ–Ω–∫–∏ –∫–æ—Ä–∑–∏–Ω—ã –≤ —à–∞–ø–∫–µ
    const cartIcon = document.getElementById('cart-icon');
    if (cartIcon) {
        cartIcon.addEventListener('click', showCartModal);
    }
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞–≤–∞—é—â–µ–π –∏–∫–æ–Ω–∫–∏ –∫–æ—Ä–∑–∏–Ω—ã
    createFloatingCartIcon();
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø–æ ESC
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            closeAvitoModal();
            if (document.getElementById('cart-modal')) {
                hideCartModal();
            }
        }
    });
    
    // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è —Å—Å—ã–ª–æ–∫
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                targetElement.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –±–µ–π–¥–∂–∏ –Ω–∞ –∏–∫–æ–Ω–∫–∞—Ö
    window.cart.updateBadges();
    
    console.log('‚úÖ –ú–∞–≥–∞–∑–∏–Ω –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!');
});

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
window.openAvitoModal = openAvitoModal;
window.closeAvitoModal = closeAvitoModal;
window.changeAvitoPhoto = changeAvitoPhoto;
window.toggleZoom = toggleZoom;
window.showCartModal = showCartModal;
</script>
    
    <script src="newyear.js"></script>


document.addEventListener('DOMContentLoaded', function() {
    const menuToggle = document.querySelector('.menu-toggle');
    const navMenu = document.querySelector('.nav-menu');
    
    if (menuToggle) {
        menuToggle.addEventListener('click', function() {
            navMenu.classList.toggle('active');
        });
    }
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Å—ã–ª–∫—É
    const navLinks = document.querySelectorAll('.nav-menu a');
    navLinks.forEach(link => {
        link.addEventListener('click', function() {
            navMenu.classList.remove('active');
        });
    });
});
</script>
</body>
</html>  
